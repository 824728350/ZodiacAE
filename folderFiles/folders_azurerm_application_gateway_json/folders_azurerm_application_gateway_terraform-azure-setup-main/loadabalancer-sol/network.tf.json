{
    "data": [
        {
            "azurerm_public_ip": {
                "pip_data": {
                    "name": "appGatewayIP",
                    "resource_group_name": "${azurerm_resource_group.rg.name}"
                }
            }
        }
    ],
    "provider": [
        {
            "azurerm": {
                "features": [
                    {}
                ]
            }
        }
    ],
    "resource": [
        {
            "azurerm_resource_group": {
                "rg": {
                    "location": "${var.rg_location}",
                    "name": "${var.rg_name}"
                }
            }
        },
        {
            "azurerm_virtual_network": {
                "vnet": {
                    "address_space": [
                        "${var.vnet_address_space}"
                    ],
                    "location": "${azurerm_resource_group.rg.location}",
                    "name": "lcVnet",
                    "resource_group_name": "${azurerm_resource_group.rg.name}"
                }
            }
        },
        {
            "azurerm_subnet": {
                "frontend": {
                    "address_prefixes": [
                        "${var.subnet_address_frontend}"
                    ],
                    "name": "appGWSubnet",
                    "resource_group_name": "${azurerm_resource_group.rg.name}",
                    "virtual_network_name": "${azurerm_virtual_network.vnet.name}"
                }
            }
        },
        {
            "azurerm_subnet": {
                "backend": {
                    "address_prefixes": [
                        "${var.subnet_address_backend}"
                    ],
                    "name": "vmsSubnet",
                    "resource_group_name": "${azurerm_resource_group.rg.name}",
                    "virtual_network_name": "${azurerm_virtual_network.vnet.name}"
                }
            }
        },
        {
            "azurerm_public_ip": {
                "pip": {
                    "allocation_method": "Static",
                    "location": "${azurerm_resource_group.rg.location}",
                    "name": "appGatewayIP",
                    "resource_group_name": "${azurerm_resource_group.rg.name}",
                    "sku": "Standard"
                }
            }
        },
        {
            "azurerm_network_interface": {
                "nic1": {
                    "ip_configuration": [
                        {
                            "name": "nic-ipconfig-1",
                            "private_ip_address_allocation": "Dynamic",
                            "subnet_id": "${azurerm_subnet.backend.id}"
                        }
                    ],
                    "location": "${azurerm_resource_group.rg.location}",
                    "name": "nic-1",
                    "resource_group_name": "${azurerm_resource_group.rg.name}"
                }
            }
        },
        {
            "azurerm_network_interface": {
                "nic2": {
                    "ip_configuration": [
                        {
                            "name": "nic-ipconfig-2",
                            "private_ip_address_allocation": "Dynamic",
                            "subnet_id": "${azurerm_subnet.backend.id}"
                        }
                    ],
                    "location": "${azurerm_resource_group.rg.location}",
                    "name": "nic-2",
                    "resource_group_name": "${azurerm_resource_group.rg.name}"
                }
            }
        }
    ]
}