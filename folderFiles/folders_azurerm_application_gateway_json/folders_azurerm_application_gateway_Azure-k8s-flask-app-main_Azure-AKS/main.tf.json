{
    "provider": [
        {
            "azurerm": {
                "features": [
                    {}
                ]
            }
        }
    ],
    "resource": [
        {
            "azurerm_resource_group": {
                "resource_group": {
                    "location": "${var.location}",
                    "name": "${var.resource_group}_${var.environment}"
                }
            }
        },
        {
            "azurerm_kubernetes_cluster": {
                "terraform-k8s": {
                    "default_node_pool": [
                        {
                            "name": "agentpool",
                            "node_count": "${var.node_count}",
                            "vm_size": "standard_b2ms"
                        }
                    ],
                    "dns_prefix": "${var.dns_prefix}",
                    "linux_profile": [
                        {
                            "admin_username": "ubuntu",
                            "ssh_key": [
                                {
                                    "key_data": "ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQDTcNZBXea8DCFaCXUuH0xUWBa5zv2YRXBKSnRAaIcwF2fRJxFdG/PgnJ4HoA10id8dSILVSuXLLjp9sTtqNgtnErKy/+zTPXcb6seHd/MycZb5181jYIIyLCuYrf2ZHum4PlMQ3RQUelbjY1ye/k54rmgdx9gmKzvy0v0oyRd1XSat0mvvVm1QesVcu4qV0uyBHga+XYm6mYhJAucNLbwB9JU/gHCc4yidckWzFsFyrosZtmbEi5C8hXNojJIeMBMFoaQSO4eZHtNhlXpscRt8+WzPqS1V/6t3wa/XjdFjZPHFQOjTPBb5dZaF5Fh2lxRDM8oYPxmuVrLPlscdqGJr noname"
                                }
                            ]
                        }
                    ],
                    "location": "${azurerm_resource_group.resource_group.location}",
                    "name": "${var.cluster_name}_${var.environment}",
                    "resource_group_name": "${azurerm_resource_group.resource_group.name}",
                    "service_principal": [
                        {
                            "client_id": "${var.client_id}",
                            "client_secret": "${var.client_secret}"
                        }
                    ]
                }
            }
        }
    ]
}