{"format_version":"1.2","terraform_version":"1.9.4","variables":{"admin_password":{"value":"Br@inb0ard"},"location":{"value":"West Europe"},"tags":{"value":{}}},"planned_values":{"outputs":{"self":{"sensitive":false}},"root_module":{"resources":[{"address":"azurerm_application_gateway.this","mode":"managed","type":"azurerm_application_gateway","name":"this","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"authentication_certificate":[],"autoscale_configuration":[],"backend_address_pool":[{"ip_addresses":[],"name":"spring-boot"}],"backend_http_settings":[{"affinity_cookie_name":"","authentication_certificate":[],"connection_draining":[],"cookie_based_affinity":"Disabled","host_name":"","name":"spring-boot","path":"","pick_host_name_from_backend_address":false,"port":80,"probe_name":"","protocol":"Http","request_timeout":60,"trusted_root_certificate_names":[]}],"custom_error_configuration":[],"enable_http2":null,"fips_enabled":null,"firewall_policy_id":null,"force_firewall_policy_association":null,"frontend_ip_configuration":[{"name":"fe-config","private_ip_address_allocation":"Dynamic","private_link_configuration_name":null,"subnet_id":null}],"frontend_port":[{"name":"fe-port","port":80}],"gateway_ip_configuration":[{"name":"spring-boot-gateway-ip-configuration"}],"global":[],"http_listener":[{"custom_error_configuration":[],"firewall_policy_id":"","frontend_ip_configuration_name":"fe-config","frontend_port_name":"fe-port","host_name":"","host_names":[],"name":"be-listener","protocol":"Http","require_sni":null,"ssl_certificate_name":"","ssl_profile_name":""}],"identity":[],"location":"westeurope","name":"appgateway","private_link_configuration":[],"probe":[],"redirect_configuration":[],"request_routing_rule":[{"backend_address_pool_name":"springapp_ap","backend_http_settings_name":"demo-bhs","http_listener_name":"be-listener","name":"demo-rqrt","priority":null,"redirect_configuration_name":"","rewrite_rule_set_name":"","rule_type":"Basic","url_path_map_name":""}],"resource_group_name":"rg-spring-boot","rewrite_rule_set":[],"sku":[{"capacity":2,"name":"Standard_Small","tier":"Standard"}],"ssl_certificate":[],"ssl_profile":[],"tags":{"env":"Development"},"timeouts":null,"trusted_client_certificate":[],"trusted_root_certificate":[],"url_path_map":[],"waf_configuration":[{"disabled_rule_group":[{"rule_group_name":"REQUEST-941-APPLICATION-ATTACK-XSS","rules":null}],"enabled":false,"exclusion":[],"file_upload_limit_mb":100,"firewall_mode":"Prevention","max_request_body_size_kb":128,"request_body_check":true,"rule_set_type":"OWASP","rule_set_version":"3.1"}],"zones":null},"sensitive_values":{"authentication_certificate":[],"autoscale_configuration":[],"backend_address_pool":[{"fqdns":[],"ip_addresses":[]}],"backend_http_settings":[{"authentication_certificate":[],"connection_draining":[],"trusted_root_certificate_names":[]}],"custom_error_configuration":[],"frontend_ip_configuration":[{}],"frontend_port":[{}],"gateway_ip_configuration":[{}],"global":[],"http_listener":[{"custom_error_configuration":[],"host_names":[]}],"identity":[],"private_endpoint_connection":[],"private_link_configuration":[],"probe":[],"redirect_configuration":[],"request_routing_rule":[{}],"rewrite_rule_set":[],"sku":[{}],"ssl_certificate":[],"ssl_policy":[],"ssl_profile":[],"tags":{},"trusted_client_certificate":[],"trusted_root_certificate":[],"url_path_map":[],"waf_configuration":[{"disabled_rule_group":[{}],"exclusion":[]}]}},{"address":"azurerm_dns_zone.dns_zone","mode":"managed","type":"azurerm_dns_zone","name":"dns_zone","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":2,"values":{"name":"publicdns.com","resource_group_name":"rg-spring-boot","tags":{"env":"Development"},"timeouts":null},"sensitive_values":{"name_servers":[],"soa_record":[],"tags":{}}},{"address":"azurerm_key_vault.key_vault_main","mode":"managed","type":"azurerm_key_vault","name":"key_vault_main","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":2,"values":{"access_policy":[{"application_id":null,"certificate_permissions":null,"key_permissions":["Get","Create","List"],"object_id":"62e5370a-2bf4-4734-8511-cc798825f062","secret_permissions":["Set","Get","Delete","Purge","Recover","List"],"storage_permissions":["Get","List"],"tenant_id":"e66e77b4-5724-44d7-8721-06df160450ce"}],"enable_rbac_authorization":null,"enabled_for_deployment":null,"enabled_for_disk_encryption":true,"enabled_for_template_deployment":null,"location":"westeurope","public_network_access_enabled":true,"purge_protection_enabled":false,"resource_group_name":"rg-spring-boot","sku_name":"standard","soft_delete_retention_days":7,"tags":{"env":"Development"},"tenant_id":"e66e77b4-5724-44d7-8721-06df160450ce","timeouts":null},"sensitive_values":{"access_policy":[{"key_permissions":[false,false,false],"secret_permissions":[false,false,false,false,false,false],"storage_permissions":[false,false]}],"contact":[],"network_acls":[],"tags":{}}},{"address":"azurerm_postgresql_database.this","mode":"managed","type":"azurerm_postgresql_database","name":"this","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":1,"values":{"charset":"UTF8","collation":"English_United States.1252","name":"spring-boot-db","resource_group_name":"rg-spring-boot","server_name":"spring-boot-postgresql-server","timeouts":null},"sensitive_values":{}},{"address":"azurerm_postgresql_server.this","mode":"managed","type":"azurerm_postgresql_server","name":"this","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":1,"values":{"administrator_login":"psqladmin","administrator_login_password":"Br@inb0ard","auto_grow_enabled":true,"backup_retention_days":7,"create_mode":"Default","creation_source_server_id":null,"geo_redundant_backup_enabled":false,"identity":[],"infrastructure_encryption_enabled":null,"location":"westeurope","name":"spring-boot-postgresql-server","public_network_access_enabled":true,"resource_group_name":"rg-spring-boot","restore_point_in_time":null,"sku_name":"B_Gen5_2","ssl_enforcement_enabled":true,"ssl_minimal_tls_version_enforced":"TLS1_2","storage_mb":5120,"tags":{"env":"Development"},"threat_detection_policy":[],"timeouts":null,"version":"9.5"},"sensitive_values":{"administrator_login_password":true,"identity":[],"tags":{},"threat_detection_policy":[]}},{"address":"azurerm_private_dns_zone.private_dns_zone","mode":"managed","type":"azurerm_private_dns_zone","name":"private_dns_zone","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"name":"private.foo","resource_group_name":"rg-spring-boot","tags":{"env":"Development"},"timeouts":null},"sensitive_values":{"soa_record":[],"tags":{}}},{"address":"azurerm_private_endpoint.private_endpoint_keyvault","mode":"managed","type":"azurerm_private_endpoint","name":"private_endpoint_keyvault","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"custom_network_interface_name":null,"ip_configuration":[],"location":"westeurope","name":"pe_keyvault","private_dns_zone_group":[],"private_service_connection":[{"is_manual_connection":false,"name":"connectiontokv","private_connection_resource_alias":null,"request_message":null,"subresource_names":["Vault"]}],"resource_group_name":"rg-spring-boot","tags":{"env":"Development"},"timeouts":null},"sensitive_values":{"custom_dns_configs":[],"ip_configuration":[],"network_interface":[],"private_dns_zone_configs":[],"private_dns_zone_group":[],"private_service_connection":[{"subresource_names":[false]}],"tags":{}}},{"address":"azurerm_public_ip.public_ip","mode":"managed","type":"azurerm_public_ip","name":"public_ip","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"allocation_method":"Dynamic","ddos_protection_mode":"VirtualNetworkInherited","ddos_protection_plan_id":null,"domain_name_label":null,"edge_zone":null,"idle_timeout_in_minutes":4,"ip_tags":null,"ip_version":"IPv4","location":"westeurope","name":"pip-ag","public_ip_prefix_id":null,"resource_group_name":"rg-spring-boot","reverse_fqdn":null,"sku":"Basic","sku_tier":"Regional","tags":{"env":"Development"},"timeouts":null,"zones":null},"sensitive_values":{"tags":{}}},{"address":"azurerm_resource_group.this","mode":"managed","type":"azurerm_resource_group","name":"this","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"location":"westeurope","managed_by":null,"name":"rg-spring-boot","tags":{"env":"Development"},"timeouts":null},"sensitive_values":{"tags":{}}},{"address":"azurerm_spring_cloud_app.this","mode":"managed","type":"azurerm_spring_cloud_app","name":"this","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":1,"values":{"custom_persistent_disk":[],"https_only":false,"identity":[],"is_public":false,"name":"spring-boot-app","public_endpoint_enabled":null,"resource_group_name":"rg-spring-boot","service_name":"spring-boot-svc","timeouts":null,"tls_enabled":false},"sensitive_values":{"custom_persistent_disk":[],"identity":[],"ingress_settings":[],"persistent_disk":[]}},{"address":"azurerm_spring_cloud_service.this","mode":"managed","type":"azurerm_spring_cloud_service","name":"this","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":1,"values":{"build_agent_pool_size":null,"config_server_git_setting":[],"container_registry":[],"default_build_service":[],"location":"westeurope","log_stream_public_endpoint_enabled":null,"managed_environment_id":null,"name":"spring-boot-svc","network":[],"resource_group_name":"rg-spring-boot","service_registry_enabled":null,"sku_name":"S0","tags":{"env":"Development"},"timeouts":null,"trace":[],"zone_redundant":true},"sensitive_values":{"config_server_git_setting":[],"container_registry":[],"default_build_service":[],"marketplace":[],"network":[],"outbound_public_ip_addresses":[],"required_network_traffic_rules":[],"tags":{},"trace":[]}},{"address":"azurerm_subnet.database","mode":"managed","type":"azurerm_subnet","name":"database","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"address_prefixes":["10.1.2.0/24"],"default_outbound_access_enabled":true,"delegation":[{"name":"Microsoft.DBforPostgreSQL/serversv2","service_delegation":[{"actions":["Microsoft.Network/virtualNetworks/subnets/action","Microsoft.Network/virtualNetworks/subnets/join/action"],"name":"Microsoft.DBforPostgreSQL/serversv2"}]}],"name":"snet_database_name","resource_group_name":"rg-spring-boot","service_endpoint_policy_ids":null,"service_endpoints":null,"timeouts":null,"virtual_network_name":"spring-boot"},"sensitive_values":{"address_prefixes":[false],"delegation":[{"service_delegation":[{"actions":[false,false]}]}]}},{"address":"azurerm_subnet.springapps","mode":"managed","type":"azurerm_subnet","name":"springapps","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"address_prefixes":["10.1.3.0/24"],"default_outbound_access_enabled":true,"delegation":[],"name":"snet_springapp","resource_group_name":"rg-spring-boot","service_endpoint_policy_ids":null,"service_endpoints":null,"timeouts":null,"virtual_network_name":"spring-boot"},"sensitive_values":{"address_prefixes":[false],"delegation":[]}},{"address":"azurerm_subnet.subnet_keyvault","mode":"managed","type":"azurerm_subnet","name":"subnet_keyvault","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"address_prefixes":["10.1.1.0/24"],"default_outbound_access_enabled":true,"delegation":[],"name":"snet_endpoint","resource_group_name":"rg-spring-boot","service_endpoint_policy_ids":null,"service_endpoints":null,"timeouts":null,"virtual_network_name":"spring-boot"},"sensitive_values":{"address_prefixes":[false],"delegation":[]}},{"address":"azurerm_subnet.waf","mode":"managed","type":"azurerm_subnet","name":"waf","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"address_prefixes":["10.1.4.0/24"],"default_outbound_access_enabled":true,"delegation":[],"name":"snet_waf","resource_group_name":"rg-spring-boot","service_endpoint_policy_ids":null,"service_endpoints":null,"timeouts":null,"virtual_network_name":"spring-boot"},"sensitive_values":{"address_prefixes":[false],"delegation":[]}},{"address":"azurerm_virtual_network.this","mode":"managed","type":"azurerm_virtual_network","name":"this","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"address_space":["10.1.0.0/16"],"bgp_community":null,"ddos_protection_plan":[],"edge_zone":null,"encryption":[],"flow_timeout_in_minutes":null,"location":"westeurope","name":"spring-boot","resource_group_name":"rg-spring-boot","tags":{"env":"Development"},"timeouts":null},"sensitive_values":{"address_space":[false],"ddos_protection_plan":[],"dns_servers":[],"encryption":[],"subnet":[],"tags":{}}},{"address":"random_string.kv_random_string","mode":"managed","type":"random_string","name":"kv_random_string","provider_name":"registry.terraform.io/hashicorp/random","schema_version":2,"values":{"keepers":null,"length":8,"lower":true,"min_lower":0,"min_numeric":0,"min_special":0,"min_upper":0,"number":true,"numeric":true,"override_special":null,"special":false,"upper":false},"sensitive_values":{}}]}},"resource_changes":[{"address":"azurerm_application_gateway.this","mode":"managed","type":"azurerm_application_gateway","name":"this","provider_name":"registry.terraform.io/hashicorp/azurerm","change":{"actions":["create"],"before":null,"after":{"authentication_certificate":[],"autoscale_configuration":[],"backend_address_pool":[{"ip_addresses":[],"name":"spring-boot"}],"backend_http_settings":[{"affinity_cookie_name":"","authentication_certificate":[],"connection_draining":[],"cookie_based_affinity":"Disabled","host_name":"","name":"spring-boot","path":"","pick_host_name_from_backend_address":false,"port":80,"probe_name":"","protocol":"Http","request_timeout":60,"trusted_root_certificate_names":[]}],"custom_error_configuration":[],"enable_http2":null,"fips_enabled":null,"firewall_policy_id":null,"force_firewall_policy_association":null,"frontend_ip_configuration":[{"name":"fe-config","private_ip_address_allocation":"Dynamic","private_link_configuration_name":null,"subnet_id":null}],"frontend_port":[{"name":"fe-port","port":80}],"gateway_ip_configuration":[{"name":"spring-boot-gateway-ip-configuration"}],"global":[],"http_listener":[{"custom_error_configuration":[],"firewall_policy_id":"","frontend_ip_configuration_name":"fe-config","frontend_port_name":"fe-port","host_name":"","host_names":[],"name":"be-listener","protocol":"Http","require_sni":null,"ssl_certificate_name":"","ssl_profile_name":""}],"identity":[],"location":"westeurope","name":"appgateway","private_link_configuration":[],"probe":[],"redirect_configuration":[],"request_routing_rule":[{"backend_address_pool_name":"springapp_ap","backend_http_settings_name":"demo-bhs","http_listener_name":"be-listener","name":"demo-rqrt","priority":null,"redirect_configuration_name":"","rewrite_rule_set_name":"","rule_type":"Basic","url_path_map_name":""}],"resource_group_name":"rg-spring-boot","rewrite_rule_set":[],"sku":[{"capacity":2,"name":"Standard_Small","tier":"Standard"}],"ssl_certificate":[],"ssl_profile":[],"tags":{"env":"Development"},"timeouts":null,"trusted_client_certificate":[],"trusted_root_certificate":[],"url_path_map":[],"waf_configuration":[{"disabled_rule_group":[{"rule_group_name":"REQUEST-941-APPLICATION-ATTACK-XSS","rules":null}],"enabled":false,"exclusion":[],"file_upload_limit_mb":100,"firewall_mode":"Prevention","max_request_body_size_kb":128,"request_body_check":true,"rule_set_type":"OWASP","rule_set_version":"3.1"}],"zones":null},"after_unknown":{"authentication_certificate":[],"autoscale_configuration":[],"backend_address_pool":[{"fqdns":true,"id":true,"ip_addresses":[]}],"backend_http_settings":[{"authentication_certificate":[],"connection_draining":[],"id":true,"probe_id":true,"trusted_root_certificate_names":[]}],"custom_error_configuration":[],"frontend_ip_configuration":[{"id":true,"private_ip_address":true,"private_link_configuration_id":true,"public_ip_address_id":true}],"frontend_port":[{"id":true}],"gateway_ip_configuration":[{"id":true,"subnet_id":true}],"global":[],"http_listener":[{"custom_error_configuration":[],"frontend_ip_configuration_id":true,"frontend_port_id":true,"host_names":[],"id":true,"ssl_certificate_id":true,"ssl_profile_id":true}],"id":true,"identity":[],"private_endpoint_connection":true,"private_link_configuration":[],"probe":[],"redirect_configuration":[],"request_routing_rule":[{"backend_address_pool_id":true,"backend_http_settings_id":true,"http_listener_id":true,"id":true,"redirect_configuration_id":true,"rewrite_rule_set_id":true,"url_path_map_id":true}],"rewrite_rule_set":[],"sku":[{}],"ssl_certificate":[],"ssl_policy":true,"ssl_profile":[],"tags":{},"trusted_client_certificate":[],"trusted_root_certificate":[],"url_path_map":[],"waf_configuration":[{"disabled_rule_group":[{}],"exclusion":[]}]},"before_sensitive":false,"after_sensitive":{"authentication_certificate":[],"autoscale_configuration":[],"backend_address_pool":[{"fqdns":[],"ip_addresses":[]}],"backend_http_settings":[{"authentication_certificate":[],"connection_draining":[],"trusted_root_certificate_names":[]}],"custom_error_configuration":[],"frontend_ip_configuration":[{}],"frontend_port":[{}],"gateway_ip_configuration":[{}],"global":[],"http_listener":[{"custom_error_configuration":[],"host_names":[]}],"identity":[],"private_endpoint_connection":[],"private_link_configuration":[],"probe":[],"redirect_configuration":[],"request_routing_rule":[{}],"rewrite_rule_set":[],"sku":[{}],"ssl_certificate":[],"ssl_policy":[],"ssl_profile":[],"tags":{},"trusted_client_certificate":[],"trusted_root_certificate":[],"url_path_map":[],"waf_configuration":[{"disabled_rule_group":[{}],"exclusion":[]}]}}},{"address":"azurerm_dns_zone.dns_zone","mode":"managed","type":"azurerm_dns_zone","name":"dns_zone","provider_name":"registry.terraform.io/hashicorp/azurerm","change":{"actions":["create"],"before":null,"after":{"name":"publicdns.com","resource_group_name":"rg-spring-boot","tags":{"env":"Development"},"timeouts":null},"after_unknown":{"id":true,"max_number_of_record_sets":true,"name_servers":true,"number_of_record_sets":true,"soa_record":true,"tags":{}},"before_sensitive":false,"after_sensitive":{"name_servers":[],"soa_record":[],"tags":{}}}},{"address":"azurerm_key_vault.key_vault_main","mode":"managed","type":"azurerm_key_vault","name":"key_vault_main","provider_name":"registry.terraform.io/hashicorp/azurerm","change":{"actions":["create"],"before":null,"after":{"access_policy":[{"application_id":null,"certificate_permissions":null,"key_permissions":["Get","Create","List"],"object_id":"62e5370a-2bf4-4734-8511-cc798825f062","secret_permissions":["Set","Get","Delete","Purge","Recover","List"],"storage_permissions":["Get","List"],"tenant_id":"e66e77b4-5724-44d7-8721-06df160450ce"}],"enable_rbac_authorization":null,"enabled_for_deployment":null,"enabled_for_disk_encryption":true,"enabled_for_template_deployment":null,"location":"westeurope","public_network_access_enabled":true,"purge_protection_enabled":false,"resource_group_name":"rg-spring-boot","sku_name":"standard","soft_delete_retention_days":7,"tags":{"env":"Development"},"tenant_id":"e66e77b4-5724-44d7-8721-06df160450ce","timeouts":null},"after_unknown":{"access_policy":[{"key_permissions":[false,false,false],"secret_permissions":[false,false,false,false,false,false],"storage_permissions":[false,false]}],"contact":true,"id":true,"name":true,"network_acls":true,"tags":{},"vault_uri":true},"before_sensitive":false,"after_sensitive":{"access_policy":[{"key_permissions":[false,false,false],"secret_permissions":[false,false,false,false,false,false],"storage_permissions":[false,false]}],"contact":[],"network_acls":[],"tags":{}}}},{"address":"azurerm_postgresql_database.this","mode":"managed","type":"azurerm_postgresql_database","name":"this","provider_name":"registry.terraform.io/hashicorp/azurerm","change":{"actions":["create"],"before":null,"after":{"charset":"UTF8","collation":"English_United States.1252","name":"spring-boot-db","resource_group_name":"rg-spring-boot","server_name":"spring-boot-postgresql-server","timeouts":null},"after_unknown":{"id":true},"before_sensitive":false,"after_sensitive":{}}},{"address":"azurerm_postgresql_server.this","mode":"managed","type":"azurerm_postgresql_server","name":"this","provider_name":"registry.terraform.io/hashicorp/azurerm","change":{"actions":["create"],"before":null,"after":{"administrator_login":"psqladmin","administrator_login_password":"Br@inb0ard","auto_grow_enabled":true,"backup_retention_days":7,"create_mode":"Default","creation_source_server_id":null,"geo_redundant_backup_enabled":false,"identity":[],"infrastructure_encryption_enabled":null,"location":"westeurope","name":"spring-boot-postgresql-server","public_network_access_enabled":true,"resource_group_name":"rg-spring-boot","restore_point_in_time":null,"sku_name":"B_Gen5_2","ssl_enforcement_enabled":true,"ssl_minimal_tls_version_enforced":"TLS1_2","storage_mb":5120,"tags":{"env":"Development"},"threat_detection_policy":[],"timeouts":null,"version":"9.5"},"after_unknown":{"fqdn":true,"id":true,"identity":[],"tags":{},"threat_detection_policy":[]},"before_sensitive":false,"after_sensitive":{"administrator_login_password":true,"identity":[],"tags":{},"threat_detection_policy":[]}}},{"address":"azurerm_private_dns_zone.private_dns_zone","mode":"managed","type":"azurerm_private_dns_zone","name":"private_dns_zone","provider_name":"registry.terraform.io/hashicorp/azurerm","change":{"actions":["create"],"before":null,"after":{"name":"private.foo","resource_group_name":"rg-spring-boot","tags":{"env":"Development"},"timeouts":null},"after_unknown":{"id":true,"max_number_of_record_sets":true,"max_number_of_virtual_network_links":true,"max_number_of_virtual_network_links_with_registration":true,"number_of_record_sets":true,"soa_record":true,"tags":{}},"before_sensitive":false,"after_sensitive":{"soa_record":[],"tags":{}}}},{"address":"azurerm_private_endpoint.private_endpoint_keyvault","mode":"managed","type":"azurerm_private_endpoint","name":"private_endpoint_keyvault","provider_name":"registry.terraform.io/hashicorp/azurerm","change":{"actions":["create"],"before":null,"after":{"custom_network_interface_name":null,"ip_configuration":[],"location":"westeurope","name":"pe_keyvault","private_dns_zone_group":[],"private_service_connection":[{"is_manual_connection":false,"name":"connectiontokv","private_connection_resource_alias":null,"request_message":null,"subresource_names":["Vault"]}],"resource_group_name":"rg-spring-boot","tags":{"env":"Development"},"timeouts":null},"after_unknown":{"custom_dns_configs":true,"id":true,"ip_configuration":[],"network_interface":true,"private_dns_zone_configs":true,"private_dns_zone_group":[],"private_service_connection":[{"private_connection_resource_id":true,"private_ip_address":true,"subresource_names":[false]}],"subnet_id":true,"tags":{}},"before_sensitive":false,"after_sensitive":{"custom_dns_configs":[],"ip_configuration":[],"network_interface":[],"private_dns_zone_configs":[],"private_dns_zone_group":[],"private_service_connection":[{"subresource_names":[false]}],"tags":{}}}},{"address":"azurerm_public_ip.public_ip","mode":"managed","type":"azurerm_public_ip","name":"public_ip","provider_name":"registry.terraform.io/hashicorp/azurerm","change":{"actions":["create"],"before":null,"after":{"allocation_method":"Dynamic","ddos_protection_mode":"VirtualNetworkInherited","ddos_protection_plan_id":null,"domain_name_label":null,"edge_zone":null,"idle_timeout_in_minutes":4,"ip_tags":null,"ip_version":"IPv4","location":"westeurope","name":"pip-ag","public_ip_prefix_id":null,"resource_group_name":"rg-spring-boot","reverse_fqdn":null,"sku":"Basic","sku_tier":"Regional","tags":{"env":"Development"},"timeouts":null,"zones":null},"after_unknown":{"fqdn":true,"id":true,"ip_address":true,"tags":{}},"before_sensitive":false,"after_sensitive":{"tags":{}}}},{"address":"azurerm_resource_group.this","mode":"managed","type":"azurerm_resource_group","name":"this","provider_name":"registry.terraform.io/hashicorp/azurerm","change":{"actions":["create"],"before":null,"after":{"location":"westeurope","managed_by":null,"name":"rg-spring-boot","tags":{"env":"Development"},"timeouts":null},"after_unknown":{"id":true,"tags":{}},"before_sensitive":false,"after_sensitive":{"tags":{}}}},{"address":"azurerm_spring_cloud_app.this","mode":"managed","type":"azurerm_spring_cloud_app","name":"this","provider_name":"registry.terraform.io/hashicorp/azurerm","change":{"actions":["create"],"before":null,"after":{"custom_persistent_disk":[],"https_only":false,"identity":[],"is_public":false,"name":"spring-boot-app","public_endpoint_enabled":null,"resource_group_name":"rg-spring-boot","service_name":"spring-boot-svc","timeouts":null,"tls_enabled":false},"after_unknown":{"addon_json":true,"custom_persistent_disk":[],"fqdn":true,"id":true,"identity":[],"ingress_settings":true,"persistent_disk":true,"url":true},"before_sensitive":false,"after_sensitive":{"custom_persistent_disk":[],"identity":[],"ingress_settings":[],"persistent_disk":[]}}},{"address":"azurerm_spring_cloud_service.this","mode":"managed","type":"azurerm_spring_cloud_service","name":"this","provider_name":"registry.terraform.io/hashicorp/azurerm","change":{"actions":["create"],"before":null,"after":{"build_agent_pool_size":null,"config_server_git_setting":[],"container_registry":[],"default_build_service":[],"location":"westeurope","log_stream_public_endpoint_enabled":null,"managed_environment_id":null,"name":"spring-boot-svc","network":[],"resource_group_name":"rg-spring-boot","service_registry_enabled":null,"sku_name":"S0","tags":{"env":"Development"},"timeouts":null,"trace":[],"zone_redundant":true},"after_unknown":{"config_server_git_setting":[],"container_registry":[],"default_build_service":[],"id":true,"marketplace":true,"network":[],"outbound_public_ip_addresses":true,"required_network_traffic_rules":true,"service_registry_id":true,"sku_tier":true,"tags":{},"trace":[]},"before_sensitive":false,"after_sensitive":{"config_server_git_setting":[],"container_registry":[],"default_build_service":[],"marketplace":[],"network":[],"outbound_public_ip_addresses":[],"required_network_traffic_rules":[],"tags":{},"trace":[]}}},{"address":"azurerm_subnet.database","mode":"managed","type":"azurerm_subnet","name":"database","provider_name":"registry.terraform.io/hashicorp/azurerm","change":{"actions":["create"],"before":null,"after":{"address_prefixes":["10.1.2.0/24"],"default_outbound_access_enabled":true,"delegation":[{"name":"Microsoft.DBforPostgreSQL/serversv2","service_delegation":[{"actions":["Microsoft.Network/virtualNetworks/subnets/action","Microsoft.Network/virtualNetworks/subnets/join/action"],"name":"Microsoft.DBforPostgreSQL/serversv2"}]}],"name":"snet_database_name","resource_group_name":"rg-spring-boot","service_endpoint_policy_ids":null,"service_endpoints":null,"timeouts":null,"virtual_network_name":"spring-boot"},"after_unknown":{"address_prefixes":[false],"delegation":[{"service_delegation":[{"actions":[false,false]}]}],"enforce_private_link_endpoint_network_policies":true,"enforce_private_link_service_network_policies":true,"id":true,"private_endpoint_network_policies":true,"private_endpoint_network_policies_enabled":true,"private_link_service_network_policies_enabled":true},"before_sensitive":false,"after_sensitive":{"address_prefixes":[false],"delegation":[{"service_delegation":[{"actions":[false,false]}]}]}}},{"address":"azurerm_subnet.springapps","mode":"managed","type":"azurerm_subnet","name":"springapps","provider_name":"registry.terraform.io/hashicorp/azurerm","change":{"actions":["create"],"before":null,"after":{"address_prefixes":["10.1.3.0/24"],"default_outbound_access_enabled":true,"delegation":[],"name":"snet_springapp","resource_group_name":"rg-spring-boot","service_endpoint_policy_ids":null,"service_endpoints":null,"timeouts":null,"virtual_network_name":"spring-boot"},"after_unknown":{"address_prefixes":[false],"delegation":[],"enforce_private_link_endpoint_network_policies":true,"enforce_private_link_service_network_policies":true,"id":true,"private_endpoint_network_policies":true,"private_endpoint_network_policies_enabled":true,"private_link_service_network_policies_enabled":true},"before_sensitive":false,"after_sensitive":{"address_prefixes":[false],"delegation":[]}}},{"address":"azurerm_subnet.subnet_keyvault","mode":"managed","type":"azurerm_subnet","name":"subnet_keyvault","provider_name":"registry.terraform.io/hashicorp/azurerm","change":{"actions":["create"],"before":null,"after":{"address_prefixes":["10.1.1.0/24"],"default_outbound_access_enabled":true,"delegation":[],"name":"snet_endpoint","resource_group_name":"rg-spring-boot","service_endpoint_policy_ids":null,"service_endpoints":null,"timeouts":null,"virtual_network_name":"spring-boot"},"after_unknown":{"address_prefixes":[false],"delegation":[],"enforce_private_link_endpoint_network_policies":true,"enforce_private_link_service_network_policies":true,"id":true,"private_endpoint_network_policies":true,"private_endpoint_network_policies_enabled":true,"private_link_service_network_policies_enabled":true},"before_sensitive":false,"after_sensitive":{"address_prefixes":[false],"delegation":[]}}},{"address":"azurerm_subnet.waf","mode":"managed","type":"azurerm_subnet","name":"waf","provider_name":"registry.terraform.io/hashicorp/azurerm","change":{"actions":["create"],"before":null,"after":{"address_prefixes":["10.1.4.0/24"],"default_outbound_access_enabled":true,"delegation":[],"name":"snet_waf","resource_group_name":"rg-spring-boot","service_endpoint_policy_ids":null,"service_endpoints":null,"timeouts":null,"virtual_network_name":"spring-boot"},"after_unknown":{"address_prefixes":[false],"delegation":[],"enforce_private_link_endpoint_network_policies":true,"enforce_private_link_service_network_policies":true,"id":true,"private_endpoint_network_policies":true,"private_endpoint_network_policies_enabled":true,"private_link_service_network_policies_enabled":true},"before_sensitive":false,"after_sensitive":{"address_prefixes":[false],"delegation":[]}}},{"address":"azurerm_virtual_network.this","mode":"managed","type":"azurerm_virtual_network","name":"this","provider_name":"registry.terraform.io/hashicorp/azurerm","change":{"actions":["create"],"before":null,"after":{"address_space":["10.1.0.0/16"],"bgp_community":null,"ddos_protection_plan":[],"edge_zone":null,"encryption":[],"flow_timeout_in_minutes":null,"location":"westeurope","name":"spring-boot","resource_group_name":"rg-spring-boot","tags":{"env":"Development"},"timeouts":null},"after_unknown":{"address_space":[false],"ddos_protection_plan":[],"dns_servers":true,"encryption":[],"guid":true,"id":true,"subnet":true,"tags":{}},"before_sensitive":false,"after_sensitive":{"address_space":[false],"ddos_protection_plan":[],"dns_servers":[],"encryption":[],"subnet":[],"tags":{}}}},{"address":"random_string.kv_random_string","mode":"managed","type":"random_string","name":"kv_random_string","provider_name":"registry.terraform.io/hashicorp/random","change":{"actions":["create"],"before":null,"after":{"keepers":null,"length":8,"lower":true,"min_lower":0,"min_numeric":0,"min_special":0,"min_upper":0,"number":true,"numeric":true,"override_special":null,"special":false,"upper":false},"after_unknown":{"id":true,"result":true},"before_sensitive":false,"after_sensitive":{}}}],"output_changes":{"self":{"actions":["create"],"before":null,"after":{"workspace":"default"},"after_unknown":{"last_update":true},"before_sensitive":false,"after_sensitive":false}},"prior_state":{"format_version":"1.0","terraform_version":"1.9.4","values":{"root_module":{"resources":[{"address":"data.azurerm_client_config.current","mode":"data","type":"azurerm_client_config","name":"current","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"client_id":"04b07795-8ddb-461a-bbee-02f9e1bf7b46","id":"Y2xpZW50Q29uZmlncy9jbGllbnRJZD0wNGIwNzc5NS04ZGRiLTQ2MWEtYmJlZS0wMmY5ZTFiZjdiNDY7b2JqZWN0SWQ9NjJlNTM3MGEtMmJmNC00NzM0LTg1MTEtY2M3OTg4MjVmMDYyO3N1YnNjcmlwdGlvbklkPTFiNzQxNGEzLWIwMzQtNGY3Yi05NzA4LTM1N2YxZGRlY2Q3YTt0ZW5hbnRJZD1lNjZlNzdiNC01NzI0LTQ0ZDctODcyMS0wNmRmMTYwNDUwY2U=","object_id":"62e5370a-2bf4-4734-8511-cc798825f062","subscription_id":"1b7414a3-b034-4f7b-9708-357f1ddecd7a","tenant_id":"e66e77b4-5724-44d7-8721-06df160450ce","timeouts":null},"sensitive_values":{}}]}}},"configuration":{"provider_config":{"azurerm":{"name":"azurerm","full_name":"registry.terraform.io/hashicorp/azurerm","expressions":{"features":[{}]}},"random":{"name":"random","full_name":"registry.terraform.io/hashicorp/random"}},"root_module":{"outputs":{"self":{"expression":{"references":["terraform.workspace"]},"description":"Runtime environment"}},"resources":[{"address":"azurerm_application_gateway.this","mode":"managed","type":"azurerm_application_gateway","name":"this","provider_config_key":"azurerm","expressions":{"backend_address_pool":[{"fqdns":{"references":["azurerm_spring_cloud_app.this.fqdn","azurerm_spring_cloud_app.this"]},"name":{"references":["local.name"]}}],"backend_http_settings":[{"cookie_based_affinity":{"constant_value":"Disabled"},"name":{"references":["local.name"]},"port":{"constant_value":80},"protocol":{"constant_value":"Http"},"request_timeout":{"constant_value":60}}],"frontend_ip_configuration":[{"name":{"constant_value":"fe-config"},"public_ip_address_id":{"references":["azurerm_public_ip.public_ip.id","azurerm_public_ip.public_ip"]}}],"frontend_port":[{"name":{"constant_value":"fe-port"},"port":{"constant_value":80}}],"gateway_ip_configuration":[{"name":{"references":["local.name"]},"subnet_id":{"references":["azurerm_subnet.waf.id","azurerm_subnet.waf"]}}],"http_listener":[{"frontend_ip_configuration_name":{"constant_value":"fe-config"},"frontend_port_name":{"constant_value":"fe-port"},"name":{"constant_value":"be-listener"},"protocol":{"constant_value":"Http"}}],"location":{"references":["azurerm_resource_group.this.location","azurerm_resource_group.this"]},"name":{"constant_value":"appgateway"},"request_routing_rule":[{"backend_address_pool_name":{"constant_value":"springapp_ap"},"backend_http_settings_name":{"constant_value":"demo-bhs"},"http_listener_name":{"constant_value":"be-listener"},"name":{"constant_value":"demo-rqrt"},"rule_type":{"constant_value":"Basic"}}],"resource_group_name":{"references":["azurerm_resource_group.this.name","azurerm_resource_group.this"]},"sku":[{"capacity":{"constant_value":2},"name":{"constant_value":"Standard_Small"},"tier":{"constant_value":"Standard"}}],"tags":{"references":["local.tags"]},"waf_configuration":[{"disabled_rule_group":[{"rule_group_name":{"constant_value":"REQUEST-941-APPLICATION-ATTACK-XSS"}}],"enabled":{"constant_value":false},"firewall_mode":{"constant_value":"Prevention"},"rule_set_type":{"constant_value":"OWASP"},"rule_set_version":{"constant_value":"3.1"}}]},"schema_version":0},{"address":"azurerm_dns_zone.dns_zone","mode":"managed","type":"azurerm_dns_zone","name":"dns_zone","provider_config_key":"azurerm","expressions":{"name":{"constant_value":"publicdns.com"},"resource_group_name":{"references":["azurerm_resource_group.this.name","azurerm_resource_group.this"]},"tags":{"references":["local.tags"]}},"schema_version":2},{"address":"azurerm_key_vault.key_vault_main","mode":"managed","type":"azurerm_key_vault","name":"key_vault_main","provider_config_key":"azurerm","expressions":{"access_policy":{"references":["data.azurerm_client_config.current.tenant_id","data.azurerm_client_config.current","data.azurerm_client_config.current.object_id","data.azurerm_client_config.current"]},"enabled_for_disk_encryption":{"constant_value":true},"location":{"references":["var.location"]},"name":{"references":["random_string.kv_random_string.result","random_string.kv_random_string"]},"purge_protection_enabled":{"constant_value":false},"resource_group_name":{"references":["azurerm_resource_group.this.name","azurerm_resource_group.this"]},"sku_name":{"constant_value":"standard"},"soft_delete_retention_days":{"constant_value":7},"tags":{"references":["local.tags"]},"tenant_id":{"references":["data.azurerm_client_config.current.tenant_id","data.azurerm_client_config.current"]}},"schema_version":2},{"address":"azurerm_postgresql_database.this","mode":"managed","type":"azurerm_postgresql_database","name":"this","provider_config_key":"azurerm","expressions":{"charset":{"constant_value":"UTF8"},"collation":{"constant_value":"English_United States.1252"},"name":{"references":["local.name"]},"resource_group_name":{"references":["azurerm_resource_group.this.name","azurerm_resource_group.this"]},"server_name":{"references":["azurerm_postgresql_server.this.name","azurerm_postgresql_server.this"]}},"schema_version":1},{"address":"azurerm_postgresql_server.this","mode":"managed","type":"azurerm_postgresql_server","name":"this","provider_config_key":"azurerm","expressions":{"administrator_login":{"constant_value":"psqladmin"},"administrator_login_password":{"references":["var.admin_password"]},"auto_grow_enabled":{"constant_value":true},"backup_retention_days":{"constant_value":7},"geo_redundant_backup_enabled":{"constant_value":false},"location":{"references":["azurerm_resource_group.this.location","azurerm_resource_group.this"]},"name":{"references":["local.name"]},"resource_group_name":{"references":["azurerm_resource_group.this.name","azurerm_resource_group.this"]},"sku_name":{"constant_value":"B_Gen5_2"},"ssl_enforcement_enabled":{"constant_value":true},"storage_mb":{"constant_value":5120},"tags":{"references":["local.tags"]},"version":{"constant_value":"9.5"}},"schema_version":1},{"address":"azurerm_private_dns_zone.private_dns_zone","mode":"managed","type":"azurerm_private_dns_zone","name":"private_dns_zone","provider_config_key":"azurerm","expressions":{"name":{"constant_value":"private.foo"},"resource_group_name":{"references":["azurerm_resource_group.this.name","azurerm_resource_group.this"]},"tags":{"references":["local.tags"]}},"schema_version":0},{"address":"azurerm_private_endpoint.private_endpoint_keyvault","mode":"managed","type":"azurerm_private_endpoint","name":"private_endpoint_keyvault","provider_config_key":"azurerm","expressions":{"location":{"references":["var.location"]},"name":{"constant_value":"pe_keyvault"},"private_service_connection":[{"is_manual_connection":{"constant_value":false},"name":{"constant_value":"connectiontokv"},"private_connection_resource_id":{"references":["azurerm_key_vault.key_vault_main.id","azurerm_key_vault.key_vault_main"]},"subresource_names":{"constant_value":["Vault"]}}],"resource_group_name":{"references":["azurerm_resource_group.this.name","azurerm_resource_group.this"]},"subnet_id":{"references":["azurerm_subnet.springapps.id","azurerm_subnet.springapps"]},"tags":{"references":["local.tags"]}},"schema_version":0},{"address":"azurerm_public_ip.public_ip","mode":"managed","type":"azurerm_public_ip","name":"public_ip","provider_config_key":"azurerm","expressions":{"allocation_method":{"constant_value":"Dynamic"},"location":{"references":["azurerm_resource_group.this.location","azurerm_resource_group.this"]},"name":{"constant_value":"pip-ag"},"resource_group_name":{"references":["azurerm_resource_group.this.name","azurerm_resource_group.this"]},"tags":{"references":["local.tags"]}},"schema_version":0},{"address":"azurerm_resource_group.this","mode":"managed","type":"azurerm_resource_group","name":"this","provider_config_key":"azurerm","expressions":{"location":{"references":["var.location"]},"name":{"references":["local.name"]},"tags":{"references":["local.tags"]}},"schema_version":0},{"address":"azurerm_spring_cloud_app.this","mode":"managed","type":"azurerm_spring_cloud_app","name":"this","provider_config_key":"azurerm","expressions":{"name":{"references":["local.name"]},"resource_group_name":{"references":["azurerm_resource_group.this.name","azurerm_resource_group.this"]},"service_name":{"references":["azurerm_spring_cloud_service.this.name","azurerm_spring_cloud_service.this"]}},"schema_version":1},{"address":"azurerm_spring_cloud_service.this","mode":"managed","type":"azurerm_spring_cloud_service","name":"this","provider_config_key":"azurerm","expressions":{"location":{"references":["var.location"]},"name":{"references":["local.name"]},"resource_group_name":{"references":["azurerm_resource_group.this.name","azurerm_resource_group.this"]},"tags":{"references":["local.tags"]},"zone_redundant":{"constant_value":true}},"schema_version":1},{"address":"azurerm_subnet.database","mode":"managed","type":"azurerm_subnet","name":"database","provider_config_key":"azurerm","expressions":{"address_prefixes":{"constant_value":["10.1.2.0/24"]},"delegation":[{"name":{"constant_value":"Microsoft.DBforPostgreSQL/serversv2"},"service_delegation":[{"actions":{"constant_value":["Microsoft.Network/virtualNetworks/subnets/action","Microsoft.Network/virtualNetworks/subnets/join/action"]},"name":{"constant_value":"Microsoft.DBforPostgreSQL/serversv2"}}]}],"name":{"constant_value":"snet_database_name"},"resource_group_name":{"references":["azurerm_resource_group.this.name","azurerm_resource_group.this"]},"virtual_network_name":{"references":["azurerm_virtual_network.this.name","azurerm_virtual_network.this"]}},"schema_version":0},{"address":"azurerm_subnet.springapps","mode":"managed","type":"azurerm_subnet","name":"springapps","provider_config_key":"azurerm","expressions":{"address_prefixes":{"constant_value":["10.1.3.0/24"]},"name":{"constant_value":"snet_springapp"},"resource_group_name":{"references":["azurerm_resource_group.this.name","azurerm_resource_group.this"]},"virtual_network_name":{"references":["azurerm_virtual_network.this.name","azurerm_virtual_network.this"]}},"schema_version":0},{"address":"azurerm_subnet.subnet_keyvault","mode":"managed","type":"azurerm_subnet","name":"subnet_keyvault","provider_config_key":"azurerm","expressions":{"address_prefixes":{"constant_value":["10.1.1.0/24"]},"name":{"constant_value":"snet_endpoint"},"resource_group_name":{"references":["azurerm_resource_group.this.name","azurerm_resource_group.this"]},"virtual_network_name":{"references":["azurerm_virtual_network.this.name","azurerm_virtual_network.this"]}},"schema_version":0},{"address":"azurerm_subnet.waf","mode":"managed","type":"azurerm_subnet","name":"waf","provider_config_key":"azurerm","expressions":{"address_prefixes":{"constant_value":["10.1.4.0/24"]},"name":{"constant_value":"snet_waf"},"resource_group_name":{"references":["azurerm_resource_group.this.name","azurerm_resource_group.this"]},"virtual_network_name":{"references":["azurerm_virtual_network.this.name","azurerm_virtual_network.this"]}},"schema_version":0},{"address":"azurerm_virtual_network.this","mode":"managed","type":"azurerm_virtual_network","name":"this","provider_config_key":"azurerm","expressions":{"address_space":{"constant_value":["10.1.0.0/16"]},"location":{"references":["var.location"]},"name":{"references":["local.name"]},"resource_group_name":{"references":["azurerm_resource_group.this.name","azurerm_resource_group.this"]},"tags":{"references":["local.tags"]}},"schema_version":0},{"address":"random_string.kv_random_string","mode":"managed","type":"random_string","name":"kv_random_string","provider_config_key":"random","expressions":{"length":{"constant_value":8},"special":{"constant_value":false},"upper":{"constant_value":false}},"schema_version":2},{"address":"data.azurerm_client_config.current","mode":"data","type":"azurerm_client_config","name":"current","provider_config_key":"azurerm","schema_version":0}],"variables":{"admin_password":{"default":"Br@inb0ard","sensitive":true},"location":{"default":"West Europe"},"tags":{"default":{},"description":"Default tags to apply to all resources."}}}},"relevant_attributes":[{"resource":"data.azurerm_client_config.current","attribute":["object_id"]},{"resource":"azurerm_virtual_network.this","attribute":["name"]},{"resource":"azurerm_subnet.springapps","attribute":["id"]},{"resource":"azurerm_spring_cloud_app.this","attribute":["fqdn"]},{"resource":"azurerm_public_ip.public_ip","attribute":["id"]},{"resource":"azurerm_resource_group.this","attribute":["name"]},{"resource":"data.azurerm_client_config.current","attribute":["tenant_id"]},{"resource":"azurerm_spring_cloud_service.this","attribute":["name"]},{"resource":"azurerm_postgresql_server.this","attribute":["name"]},{"resource":"azurerm_key_vault.key_vault_main","attribute":["id"]},{"resource":"azurerm_subnet.waf","attribute":["id"]},{"resource":"azurerm_resource_group.this","attribute":["location"]},{"resource":"random_string.kv_random_string","attribute":["result"]}],"timestamp":"2024-08-16T23:53:37Z","applyable":true,"complete":true,"errored":false}
