{"format_version":"1.2","terraform_version":"1.9.4","variables":{"prefix_name":{"value":"zodiac"},"region":{"value":"East US"}},"planned_values":{"outputs":{"application_gateway_name":{"sensitive":false,"type":"string","value":"zodiacAppiGW"},"cluster_name":{"sensitive":false,"type":"string","value":"zodiac-aks"},"resource_group_name":{"sensitive":false,"type":"string","value":"zodiac-rg"}},"root_module":{"resources":[{"address":"null_resource.execute_script","mode":"managed","type":"null_resource","name":"execute_script","provider_name":"registry.terraform.io/hashicorp/null","schema_version":0,"values":{"triggers":null},"sensitive_values":{}}],"child_modules":[{"resources":[{"address":"module.AzureBastionSubnet.azurerm_subnet.subnet","mode":"managed","type":"azurerm_subnet","name":"subnet","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"address_prefixes":["10.1.1.0/24"],"default_outbound_access_enabled":true,"delegation":[],"name":"AzureBastionSubnet","resource_group_name":"zodiac-rg","service_endpoint_policy_ids":null,"service_endpoints":null,"timeouts":null,"virtual_network_name":"zodiac-vn-aks"},"sensitive_values":{"address_prefixes":[false],"delegation":[]}}],"address":"module.AzureBastionSubnet"},{"resources":[{"address":"module.access_policy_aks_cluster.azurerm_key_vault_access_policy.access_policy","mode":"managed","type":"azurerm_key_vault_access_policy","name":"access_policy","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"application_id":null,"certificate_permissions":["Get"],"key_permissions":["Get","Create","List","Delete","Purge","Recover","SetRotationPolicy","GetRotationPolicy"],"secret_permissions":["Get","Set","List","Delete","Purge","Recover"],"storage_permissions":null,"tenant_id":"e66e77b4-5724-44d7-8721-06df160450ce","timeouts":null},"sensitive_values":{"certificate_permissions":[false],"key_permissions":[false,false,false,false,false,false,false,false],"secret_permissions":[false,false,false,false,false,false]}}],"address":"module.access_policy_aks_cluster"},{"resources":[{"address":"module.access_policy_current_user.azurerm_key_vault_access_policy.access_policy","mode":"managed","type":"azurerm_key_vault_access_policy","name":"access_policy","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"application_id":null,"certificate_permissions":["Get"],"key_permissions":["Get","Create","List","Delete","Purge","Recover","SetRotationPolicy","GetRotationPolicy"],"object_id":"62e5370a-2bf4-4734-8511-cc798825f062","secret_permissions":["Get","Set","List","Delete","Purge","Recover"],"storage_permissions":null,"tenant_id":"e66e77b4-5724-44d7-8721-06df160450ce","timeouts":null},"sensitive_values":{"certificate_permissions":[false],"key_permissions":[false,false,false,false,false,false,false,false],"secret_permissions":[false,false,false,false,false,false]}}],"address":"module.access_policy_current_user"},{"resources":[{"address":"module.access_policy_identity.azurerm_key_vault_access_policy.access_policy","mode":"managed","type":"azurerm_key_vault_access_policy","name":"access_policy","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"application_id":null,"certificate_permissions":["Get"],"key_permissions":["Get","Create","List","Delete","Purge","Recover","SetRotationPolicy","GetRotationPolicy"],"secret_permissions":["Get","Set","List","Delete","Purge","Recover"],"storage_permissions":null,"tenant_id":"e66e77b4-5724-44d7-8721-06df160450ce","timeouts":null},"sensitive_values":{"certificate_permissions":[false],"key_permissions":[false,false,false,false,false,false,false,false],"secret_permissions":[false,false,false,false,false,false]}}],"address":"module.access_policy_identity"},{"resources":[{"address":"module.aks_cluster.azurerm_kubernetes_cluster.aks_cluster","mode":"managed","type":"azurerm_kubernetes_cluster","name":"aks_cluster","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":2,"values":{"aci_connector_linux":[],"automatic_channel_upgrade":null,"azure_active_directory_role_based_access_control":[],"azure_policy_enabled":null,"confidential_computing":[],"cost_analysis_enabled":null,"custom_ca_trust_certificates_base64":null,"default_node_pool":[{"capacity_reservation_group_id":null,"custom_ca_trust_enabled":null,"enable_auto_scaling":null,"enable_host_encryption":null,"enable_node_public_ip":null,"fips_enabled":null,"gpu_instance":null,"host_group_id":null,"kubelet_config":[],"linux_os_config":[],"max_count":null,"message_of_the_day":null,"min_count":null,"name":"zodiacpool","node_count":1,"node_network_profile":[],"node_public_ip_prefix_id":null,"node_taints":null,"only_critical_addons_enabled":null,"os_disk_size_gb":40,"os_disk_type":"Managed","pod_subnet_id":null,"proximity_placement_group_id":null,"scale_down_mode":"Delete","snapshot_id":null,"tags":null,"temporary_name_for_rotation":null,"type":"VirtualMachineScaleSets","ultra_ssd_enabled":false,"upgrade_settings":[],"vm_size":"Standard_DS2_v2","zones":null}],"disk_encryption_set_id":null,"dns_prefix":"zodiac-aks","dns_prefix_private_cluster":null,"edge_zone":null,"enable_pod_security_policy":null,"http_application_routing_enabled":null,"http_proxy_config":[],"identity":[{"identity_ids":null,"type":"SystemAssigned"}],"image_cleaner_enabled":false,"image_cleaner_interval_hours":48,"ingress_application_gateway":[],"key_management_service":[],"key_vault_secrets_provider":[{"secret_rotation_enabled":true,"secret_rotation_interval":"2m"}],"linux_profile":[],"local_account_disabled":null,"location":"eastus","maintenance_window":[],"maintenance_window_auto_upgrade":[],"maintenance_window_node_os":[],"microsoft_defender":[],"monitor_metrics":[],"name":"zodiac-aks","network_profile":[{"load_balancer_sku":"standard","network_plugin":"azure","network_plugin_mode":null,"outbound_type":"loadBalancer"}],"node_os_channel_upgrade":null,"oidc_issuer_enabled":null,"oms_agent":[],"open_service_mesh_enabled":null,"private_cluster_enabled":false,"private_cluster_public_fqdn_enabled":false,"public_network_access_enabled":true,"resource_group_name":"zodiac-rg","role_based_access_control_enabled":true,"run_command_enabled":true,"service_mesh_profile":[],"service_principal":[],"sku_tier":"Free","storage_profile":[],"support_plan":"KubernetesOfficial","tags":null,"timeouts":null,"web_app_routing":[],"workload_autoscaler_profile":[],"workload_identity_enabled":false},"sensitive_values":{"aci_connector_linux":[],"api_server_access_profile":[],"api_server_authorized_ip_ranges":[],"auto_scaler_profile":[],"azure_active_directory_role_based_access_control":[],"confidential_computing":[],"default_node_pool":[{"kubelet_config":[],"linux_os_config":[],"node_labels":{},"node_network_profile":[],"upgrade_settings":[]}],"http_proxy_config":[],"identity":[{}],"ingress_application_gateway":[],"key_management_service":[],"key_vault_secrets_provider":[{"secret_identity":[]}],"kube_admin_config":true,"kube_admin_config_raw":true,"kube_config":true,"kube_config_raw":true,"kubelet_identity":[],"linux_profile":[],"maintenance_window":[],"maintenance_window_auto_upgrade":[],"maintenance_window_node_os":[],"microsoft_defender":[],"monitor_metrics":[],"network_profile":[{"ip_versions":[],"load_balancer_profile":[],"nat_gateway_profile":[],"outbound_ip_address_ids":[],"outbound_ip_prefix_ids":[],"pod_cidrs":[],"service_cidrs":[]}],"oms_agent":[],"service_mesh_profile":[],"service_principal":[],"storage_profile":[],"web_app_routing":[],"windows_profile":[],"workload_autoscaler_profile":[]}},{"address":"module.aks_cluster.local_file.kubeconfig","mode":"managed","type":"local_file","name":"kubeconfig","provider_name":"registry.terraform.io/hashicorp/local","schema_version":0,"values":{"content_base64":null,"directory_permission":"0777","file_permission":"0777","filename":"KubeConfig","sensitive_content":null,"source":null},"sensitive_values":{"content":true,"sensitive_content":true}}],"address":"module.aks_cluster"},{"resources":[{"address":"module.aks_subnet.azurerm_subnet.subnet","mode":"managed","type":"azurerm_subnet","name":"subnet","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"address_prefixes":["10.1.2.0/24"],"default_outbound_access_enabled":true,"delegation":[],"name":"zodiac-sn-aks","resource_group_name":"zodiac-rg","service_endpoint_policy_ids":null,"service_endpoints":null,"timeouts":null,"virtual_network_name":"zodiac-vn-aks"},"sensitive_values":{"address_prefixes":[false],"delegation":[]}}],"address":"module.aks_subnet"},{"resources":[{"address":"module.appgw_subnet.azurerm_subnet.subnet","mode":"managed","type":"azurerm_subnet","name":"subnet","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"address_prefixes":["10.0.1.0/24"],"default_outbound_access_enabled":true,"delegation":[],"name":"zodiac-sn-appgw","resource_group_name":"zodiac-rg","service_endpoint_policy_ids":null,"service_endpoints":null,"timeouts":null,"virtual_network_name":"zodiac-vn-appigw"},"sensitive_values":{"address_prefixes":[false],"delegation":[]}}],"address":"module.appgw_subnet"},{"resources":[{"address":"module.application_gateway.azurerm_application_gateway.appgw","mode":"managed","type":"azurerm_application_gateway","name":"appgw","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"authentication_certificate":[],"autoscale_configuration":[],"backend_address_pool":[{"fqdns":[],"ip_addresses":[],"name":"zodiac-sn-appgw-backend-pool"}],"backend_http_settings":[{"affinity_cookie_name":"","authentication_certificate":[],"connection_draining":[],"cookie_based_affinity":"Disabled","host_name":"","name":"zodiac-sn-appgw-backend-http-setting","path":"","pick_host_name_from_backend_address":false,"port":80,"probe_name":"","protocol":"Http","request_timeout":60,"trusted_root_certificate_names":[]}],"custom_error_configuration":[],"enable_http2":null,"fips_enabled":null,"firewall_policy_id":null,"force_firewall_policy_association":null,"frontend_ip_configuration":[{"name":"zodiac-sn-appgw-front-ipconfig","private_ip_address_allocation":"Dynamic","private_link_configuration_name":null,"subnet_id":null}],"frontend_port":[{"name":"zodiac-sn-appgw-front-http-port","port":80}],"gateway_ip_configuration":[{"name":"appgwIpConfig"}],"global":[],"http_listener":[{"custom_error_configuration":[],"firewall_policy_id":"","frontend_ip_configuration_name":"zodiac-sn-appgw-front-ipconfig","frontend_port_name":"zodiac-sn-appgw-front-http-port","host_name":"","host_names":[],"name":"zodiac-sn-appgw-http-listener","protocol":"Http","require_sni":null,"ssl_certificate_name":"","ssl_profile_name":""}],"identity":[],"location":"eastus","name":"zodiacAppiGW","private_link_configuration":[],"probe":[],"redirect_configuration":[],"request_routing_rule":[{"backend_address_pool_name":"zodiac-sn-appgw-backend-pool","backend_http_settings_name":"zodiac-sn-appgw-backend-http-setting","http_listener_name":"zodiac-sn-appgw-http-listener","name":"zodiac-sn-appgw-request-routing-rule","priority":9,"redirect_configuration_name":"","rewrite_rule_set_name":"","rule_type":"Basic","url_path_map_name":""}],"resource_group_name":"zodiac-rg","rewrite_rule_set":[],"sku":[{"capacity":2,"name":"Standard_v2","tier":"Standard_v2"}],"ssl_certificate":[],"ssl_profile":[],"tags":null,"timeouts":null,"trusted_client_certificate":[],"trusted_root_certificate":[],"url_path_map":[],"waf_configuration":[],"zones":null},"sensitive_values":{"authentication_certificate":[],"autoscale_configuration":[],"backend_address_pool":[{"fqdns":[],"ip_addresses":[]}],"backend_http_settings":[{"authentication_certificate":[],"connection_draining":[],"trusted_root_certificate_names":[]}],"custom_error_configuration":[],"frontend_ip_configuration":[{}],"frontend_port":[{}],"gateway_ip_configuration":[{}],"global":[],"http_listener":[{"custom_error_configuration":[],"host_names":[]}],"identity":[],"private_endpoint_connection":[],"private_link_configuration":[],"probe":[],"redirect_configuration":[],"request_routing_rule":[{}],"rewrite_rule_set":[],"sku":[{}],"ssl_certificate":[],"ssl_policy":[],"ssl_profile":[],"trusted_client_certificate":[],"trusted_root_certificate":[],"url_path_map":[],"waf_configuration":[]}}],"address":"module.application_gateway"},{"resources":[{"address":"module.bastion.azurerm_bastion_host.bastion","mode":"managed","type":"azurerm_bastion_host","name":"bastion","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"copy_paste_enabled":true,"file_copy_enabled":false,"ip_configuration":[{"name":"zodiac-config-ip-bastion"}],"ip_connect_enabled":false,"kerberos_enabled":false,"location":"eastus","name":"zodiac-bastion","resource_group_name":"zodiac-rg","scale_units":2,"shareable_link_enabled":false,"sku":"Basic","tags":null,"timeouts":null,"tunneling_enabled":false,"virtual_network_id":null},"sensitive_values":{"ip_configuration":[{}]}}],"address":"module.bastion"},{"resources":[{"address":"module.container_registry.azurerm_container_registry.cr","mode":"managed","type":"azurerm_container_registry","name":"cr","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":2,"values":{"admin_enabled":true,"anonymous_pull_enabled":null,"data_endpoint_enabled":null,"export_policy_enabled":true,"georeplications":[],"identity":[],"location":"eastus","name":"zodiaccr","network_rule_bypass_option":"AzureServices","public_network_access_enabled":true,"quarantine_policy_enabled":null,"resource_group_name":"zodiac-rg","sku":"Standard","tags":null,"timeouts":null,"zone_redundancy_enabled":false},"sensitive_values":{"admin_password":true,"encryption":[],"georeplications":[],"identity":[],"network_rule_set":[],"retention_policy":[],"trust_policy":[]}}],"address":"module.container_registry"},{"resources":[{"address":"module.identity.azurerm_user_assigned_identity.identity","mode":"managed","type":"azurerm_user_assigned_identity","name":"identity","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":1,"values":{"location":"eastus","name":"zodiac-identity","resource_group_name":"zodiac-rg","tags":null,"timeouts":null},"sensitive_values":{}}],"address":"module.identity"},{"resources":[{"address":"module.ip_appgw.azurerm_public_ip.publicIp","mode":"managed","type":"azurerm_public_ip","name":"publicIp","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"allocation_method":"Static","ddos_protection_mode":"VirtualNetworkInherited","ddos_protection_plan_id":null,"domain_name_label":null,"edge_zone":null,"idle_timeout_in_minutes":4,"ip_tags":null,"ip_version":"IPv4","location":"eastus","name":"zodiac-ip-appgw","public_ip_prefix_id":null,"resource_group_name":"zodiac-rg","reverse_fqdn":null,"sku":"Standard","sku_tier":"Regional","tags":null,"timeouts":null,"zones":null},"sensitive_values":{}}],"address":"module.ip_appgw"},{"resources":[{"address":"module.ip_bastion.azurerm_public_ip.publicIp","mode":"managed","type":"azurerm_public_ip","name":"publicIp","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"allocation_method":"Static","ddos_protection_mode":"VirtualNetworkInherited","ddos_protection_plan_id":null,"domain_name_label":null,"edge_zone":null,"idle_timeout_in_minutes":4,"ip_tags":null,"ip_version":"IPv4","location":"eastus","name":"zodiac-ip-bastion","public_ip_prefix_id":null,"resource_group_name":"zodiac-rg","reverse_fqdn":null,"sku":"Standard","sku_tier":"Regional","tags":null,"timeouts":null,"zones":null},"sensitive_values":{}}],"address":"module.ip_bastion"},{"resources":[{"address":"module.key_vault.azurerm_key_vault.key_vault","mode":"managed","type":"azurerm_key_vault","name":"key_vault","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":2,"values":{"enable_rbac_authorization":null,"enabled_for_deployment":null,"enabled_for_disk_encryption":true,"enabled_for_template_deployment":null,"location":"eastus","name":"zodiacKeyVault","public_network_access_enabled":true,"purge_protection_enabled":false,"resource_group_name":"zodiac-rg","sku_name":"standard","soft_delete_retention_days":7,"tags":null,"tenant_id":"e66e77b4-5724-44d7-8721-06df160450ce","timeouts":null},"sensitive_values":{"access_policy":[],"contact":[],"network_acls":[]}}],"address":"module.key_vault"},{"resources":[{"address":"module.key_vault_secret_webserver-config.azurerm_key_vault_secret.key_vault_secret","mode":"managed","type":"azurerm_key_vault_secret","name":"key_vault_secret","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"content_type":null,"expiration_date":null,"name":"zodiac-conf","not_before_date":null,"tags":null,"timeouts":null,"value":"config-value"},"sensitive_values":{"value":true}}],"address":"module.key_vault_secret_webserver-config"},{"resources":[{"address":"module.key_vault_secret_webserver_properties.azurerm_key_vault_secret.key_vault_secret","mode":"managed","type":"azurerm_key_vault_secret","name":"key_vault_secret","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"content_type":null,"expiration_date":null,"name":"zodiac-prop","not_before_date":null,"tags":null,"timeouts":null,"value":"properties-value"},"sensitive_values":{"value":true}}],"address":"module.key_vault_secret_webserver_properties"},{"resources":[{"address":"module.peeringAppgwToCluster.azurerm_virtual_network_peering.ClustertoAppGWVnetPeering","mode":"managed","type":"azurerm_virtual_network_peering","name":"ClustertoAppGWVnetPeering","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"allow_forwarded_traffic":false,"allow_gateway_transit":false,"allow_virtual_network_access":true,"local_subnet_names":null,"name":"zodiac-peer-appgw-cluster","only_ipv6_peering_enabled":null,"peer_complete_virtual_networks_enabled":true,"remote_subnet_names":null,"resource_group_name":"zodiac-rg","timeouts":null,"triggers":null,"use_remote_gateways":false,"virtual_network_name":"zodiac-vn-appigw"},"sensitive_values":{}}],"address":"module.peeringAppgwToCluster"},{"resources":[{"address":"module.peeringClusterToAppgw.azurerm_virtual_network_peering.ClustertoAppGWVnetPeering","mode":"managed","type":"azurerm_virtual_network_peering","name":"ClustertoAppGWVnetPeering","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"allow_forwarded_traffic":false,"allow_gateway_transit":false,"allow_virtual_network_access":true,"local_subnet_names":null,"name":"zodiac-peer-cluster-appgw","only_ipv6_peering_enabled":null,"peer_complete_virtual_networks_enabled":true,"remote_subnet_names":null,"resource_group_name":"zodiac-rg","timeouts":null,"triggers":null,"use_remote_gateways":false,"virtual_network_name":"zodiac-vn-aks"},"sensitive_values":{}}],"address":"module.peeringClusterToAppgw"},{"resources":[{"address":"module.resource_group.azurerm_resource_group.rg","mode":"managed","type":"azurerm_resource_group","name":"rg","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"location":"eastus","managed_by":null,"name":"zodiac-rg","tags":null,"timeouts":null},"sensitive_values":{}}],"address":"module.resource_group"},{"resources":[{"address":"module.role_aks_cluster.azurerm_role_assignment.role","mode":"managed","type":"azurerm_role_assignment","name":"role","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"condition":null,"condition_version":null,"delegated_managed_identity_resource_id":null,"description":null,"role_definition_name":"AcrPull","skip_service_principal_aad_check":true,"timeouts":null},"sensitive_values":{}}],"address":"module.role_aks_cluster"},{"resources":[{"address":"module.role_key_vault_access.azurerm_role_assignment.role","mode":"managed","type":"azurerm_role_assignment","name":"role","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"condition":null,"condition_version":null,"delegated_managed_identity_resource_id":null,"description":null,"role_definition_name":"Reader","skip_service_principal_aad_check":false,"timeouts":null},"sensitive_values":{}}],"address":"module.role_key_vault_access"},{"resources":[{"address":"module.virtual_network_aks.azurerm_virtual_network.vn","mode":"managed","type":"azurerm_virtual_network","name":"vn","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"address_space":["10.1.0.0/16"],"bgp_community":null,"ddos_protection_plan":[],"edge_zone":null,"encryption":[],"flow_timeout_in_minutes":null,"location":"eastus","name":"zodiac-vn-aks","resource_group_name":"zodiac-rg","tags":null,"timeouts":null},"sensitive_values":{"address_space":[false],"ddos_protection_plan":[],"dns_servers":[],"encryption":[],"subnet":[]}}],"address":"module.virtual_network_aks"},{"resources":[{"address":"module.virtual_network_appigw.azurerm_virtual_network.vn","mode":"managed","type":"azurerm_virtual_network","name":"vn","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"address_space":["10.0.0.0/16"],"bgp_community":null,"ddos_protection_plan":[],"edge_zone":null,"encryption":[],"flow_timeout_in_minutes":null,"location":"eastus","name":"zodiac-vn-appigw","resource_group_name":"zodiac-rg","tags":null,"timeouts":null},"sensitive_values":{"address_space":[false],"ddos_protection_plan":[],"dns_servers":[],"encryption":[],"subnet":[]}}],"address":"module.virtual_network_appigw"}]}},"resource_changes":[{"address":"null_resource.execute_script","mode":"managed","type":"null_resource","name":"execute_script","provider_name":"registry.terraform.io/hashicorp/null","change":{"actions":["create"],"before":null,"after":{"triggers":null},"after_unknown":{"id":true},"before_sensitive":false,"after_sensitive":{}}},{"address":"module.AzureBastionSubnet.azurerm_subnet.subnet","module_address":"module.AzureBastionSubnet","mode":"managed","type":"azurerm_subnet","name":"subnet","provider_name":"registry.terraform.io/hashicorp/azurerm","change":{"actions":["create"],"before":null,"after":{"address_prefixes":["10.1.1.0/24"],"default_outbound_access_enabled":true,"delegation":[],"name":"AzureBastionSubnet","resource_group_name":"zodiac-rg","service_endpoint_policy_ids":null,"service_endpoints":null,"timeouts":null,"virtual_network_name":"zodiac-vn-aks"},"after_unknown":{"address_prefixes":[false],"delegation":[],"enforce_private_link_endpoint_network_policies":true,"enforce_private_link_service_network_policies":true,"id":true,"private_endpoint_network_policies":true,"private_endpoint_network_policies_enabled":true,"private_link_service_network_policies_enabled":true},"before_sensitive":false,"after_sensitive":{"address_prefixes":[false],"delegation":[]}}},{"address":"module.access_policy_aks_cluster.azurerm_key_vault_access_policy.access_policy","module_address":"module.access_policy_aks_cluster","mode":"managed","type":"azurerm_key_vault_access_policy","name":"access_policy","provider_name":"registry.terraform.io/hashicorp/azurerm","change":{"actions":["create"],"before":null,"after":{"application_id":null,"certificate_permissions":["Get"],"key_permissions":["Get","Create","List","Delete","Purge","Recover","SetRotationPolicy","GetRotationPolicy"],"secret_permissions":["Get","Set","List","Delete","Purge","Recover"],"storage_permissions":null,"tenant_id":"e66e77b4-5724-44d7-8721-06df160450ce","timeouts":null},"after_unknown":{"certificate_permissions":[false],"id":true,"key_permissions":[false,false,false,false,false,false,false,false],"key_vault_id":true,"object_id":true,"secret_permissions":[false,false,false,false,false,false]},"before_sensitive":false,"after_sensitive":{"certificate_permissions":[false],"key_permissions":[false,false,false,false,false,false,false,false],"secret_permissions":[false,false,false,false,false,false]}}},{"address":"module.access_policy_current_user.azurerm_key_vault_access_policy.access_policy","module_address":"module.access_policy_current_user","mode":"managed","type":"azurerm_key_vault_access_policy","name":"access_policy","provider_name":"registry.terraform.io/hashicorp/azurerm","change":{"actions":["create"],"before":null,"after":{"application_id":null,"certificate_permissions":["Get"],"key_permissions":["Get","Create","List","Delete","Purge","Recover","SetRotationPolicy","GetRotationPolicy"],"object_id":"62e5370a-2bf4-4734-8511-cc798825f062","secret_permissions":["Get","Set","List","Delete","Purge","Recover"],"storage_permissions":null,"tenant_id":"e66e77b4-5724-44d7-8721-06df160450ce","timeouts":null},"after_unknown":{"certificate_permissions":[false],"id":true,"key_permissions":[false,false,false,false,false,false,false,false],"key_vault_id":true,"secret_permissions":[false,false,false,false,false,false]},"before_sensitive":false,"after_sensitive":{"certificate_permissions":[false],"key_permissions":[false,false,false,false,false,false,false,false],"secret_permissions":[false,false,false,false,false,false]}}},{"address":"module.access_policy_identity.azurerm_key_vault_access_policy.access_policy","module_address":"module.access_policy_identity","mode":"managed","type":"azurerm_key_vault_access_policy","name":"access_policy","provider_name":"registry.terraform.io/hashicorp/azurerm","change":{"actions":["create"],"before":null,"after":{"application_id":null,"certificate_permissions":["Get"],"key_permissions":["Get","Create","List","Delete","Purge","Recover","SetRotationPolicy","GetRotationPolicy"],"secret_permissions":["Get","Set","List","Delete","Purge","Recover"],"storage_permissions":null,"tenant_id":"e66e77b4-5724-44d7-8721-06df160450ce","timeouts":null},"after_unknown":{"certificate_permissions":[false],"id":true,"key_permissions":[false,false,false,false,false,false,false,false],"key_vault_id":true,"object_id":true,"secret_permissions":[false,false,false,false,false,false]},"before_sensitive":false,"after_sensitive":{"certificate_permissions":[false],"key_permissions":[false,false,false,false,false,false,false,false],"secret_permissions":[false,false,false,false,false,false]}}},{"address":"module.aks_cluster.azurerm_kubernetes_cluster.aks_cluster","module_address":"module.aks_cluster","mode":"managed","type":"azurerm_kubernetes_cluster","name":"aks_cluster","provider_name":"registry.terraform.io/hashicorp/azurerm","change":{"actions":["create"],"before":null,"after":{"aci_connector_linux":[],"automatic_channel_upgrade":null,"azure_active_directory_role_based_access_control":[],"azure_policy_enabled":null,"confidential_computing":[],"cost_analysis_enabled":null,"custom_ca_trust_certificates_base64":null,"default_node_pool":[{"capacity_reservation_group_id":null,"custom_ca_trust_enabled":null,"enable_auto_scaling":null,"enable_host_encryption":null,"enable_node_public_ip":null,"fips_enabled":null,"gpu_instance":null,"host_group_id":null,"kubelet_config":[],"linux_os_config":[],"max_count":null,"message_of_the_day":null,"min_count":null,"name":"zodiacpool","node_count":1,"node_network_profile":[],"node_public_ip_prefix_id":null,"node_taints":null,"only_critical_addons_enabled":null,"os_disk_size_gb":40,"os_disk_type":"Managed","pod_subnet_id":null,"proximity_placement_group_id":null,"scale_down_mode":"Delete","snapshot_id":null,"tags":null,"temporary_name_for_rotation":null,"type":"VirtualMachineScaleSets","ultra_ssd_enabled":false,"upgrade_settings":[],"vm_size":"Standard_DS2_v2","zones":null}],"disk_encryption_set_id":null,"dns_prefix":"zodiac-aks","dns_prefix_private_cluster":null,"edge_zone":null,"enable_pod_security_policy":null,"http_application_routing_enabled":null,"http_proxy_config":[],"identity":[{"identity_ids":null,"type":"SystemAssigned"}],"image_cleaner_enabled":false,"image_cleaner_interval_hours":48,"ingress_application_gateway":[],"key_management_service":[],"key_vault_secrets_provider":[{"secret_rotation_enabled":true,"secret_rotation_interval":"2m"}],"linux_profile":[],"local_account_disabled":null,"location":"eastus","maintenance_window":[],"maintenance_window_auto_upgrade":[],"maintenance_window_node_os":[],"microsoft_defender":[],"monitor_metrics":[],"name":"zodiac-aks","network_profile":[{"load_balancer_sku":"standard","network_plugin":"azure","network_plugin_mode":null,"outbound_type":"loadBalancer"}],"node_os_channel_upgrade":null,"oidc_issuer_enabled":null,"oms_agent":[],"open_service_mesh_enabled":null,"private_cluster_enabled":false,"private_cluster_public_fqdn_enabled":false,"public_network_access_enabled":true,"resource_group_name":"zodiac-rg","role_based_access_control_enabled":true,"run_command_enabled":true,"service_mesh_profile":[],"service_principal":[],"sku_tier":"Free","storage_profile":[],"support_plan":"KubernetesOfficial","tags":null,"timeouts":null,"web_app_routing":[],"workload_autoscaler_profile":[],"workload_identity_enabled":false},"after_unknown":{"aci_connector_linux":[],"api_server_access_profile":true,"api_server_authorized_ip_ranges":true,"auto_scaler_profile":true,"azure_active_directory_role_based_access_control":[],"confidential_computing":[],"current_kubernetes_version":true,"default_node_pool":[{"kubelet_config":[],"kubelet_disk_type":true,"linux_os_config":[],"max_pods":true,"node_labels":true,"node_network_profile":[],"orchestrator_version":true,"os_sku":true,"upgrade_settings":[],"vnet_subnet_id":true,"workload_runtime":true}],"fqdn":true,"http_application_routing_zone_name":true,"http_proxy_config":[],"id":true,"identity":[{"principal_id":true,"tenant_id":true}],"ingress_application_gateway":[],"key_management_service":[],"key_vault_secrets_provider":[{"secret_identity":true}],"kube_admin_config":true,"kube_admin_config_raw":true,"kube_config":true,"kube_config_raw":true,"kubelet_identity":true,"kubernetes_version":true,"linux_profile":[],"maintenance_window":[],"maintenance_window_auto_upgrade":[],"maintenance_window_node_os":[],"microsoft_defender":[],"monitor_metrics":[],"network_profile":[{"dns_service_ip":true,"docker_bridge_cidr":true,"ebpf_data_plane":true,"ip_versions":true,"load_balancer_profile":true,"nat_gateway_profile":true,"network_data_plane":true,"network_mode":true,"network_policy":true,"outbound_ip_address_ids":true,"outbound_ip_prefix_ids":true,"pod_cidr":true,"pod_cidrs":true,"service_cidr":true,"service_cidrs":true}],"node_resource_group":true,"node_resource_group_id":true,"oidc_issuer_url":true,"oms_agent":[],"portal_fqdn":true,"private_dns_zone_id":true,"private_fqdn":true,"service_mesh_profile":[],"service_principal":[],"storage_profile":[],"web_app_routing":[],"windows_profile":true,"workload_autoscaler_profile":[]},"before_sensitive":false,"after_sensitive":{"aci_connector_linux":[],"api_server_access_profile":[],"api_server_authorized_ip_ranges":[],"auto_scaler_profile":[],"azure_active_directory_role_based_access_control":[],"confidential_computing":[],"default_node_pool":[{"kubelet_config":[],"linux_os_config":[],"node_labels":{},"node_network_profile":[],"upgrade_settings":[]}],"http_proxy_config":[],"identity":[{}],"ingress_application_gateway":[],"key_management_service":[],"key_vault_secrets_provider":[{"secret_identity":[]}],"kube_admin_config":true,"kube_admin_config_raw":true,"kube_config":true,"kube_config_raw":true,"kubelet_identity":[],"linux_profile":[],"maintenance_window":[],"maintenance_window_auto_upgrade":[],"maintenance_window_node_os":[],"microsoft_defender":[],"monitor_metrics":[],"network_profile":[{"ip_versions":[],"load_balancer_profile":[],"nat_gateway_profile":[],"outbound_ip_address_ids":[],"outbound_ip_prefix_ids":[],"pod_cidrs":[],"service_cidrs":[]}],"oms_agent":[],"service_mesh_profile":[],"service_principal":[],"storage_profile":[],"web_app_routing":[],"windows_profile":[],"workload_autoscaler_profile":[]}}},{"address":"module.aks_cluster.local_file.kubeconfig","module_address":"module.aks_cluster","mode":"managed","type":"local_file","name":"kubeconfig","provider_name":"registry.terraform.io/hashicorp/local","change":{"actions":["create"],"before":null,"after":{"content_base64":null,"directory_permission":"0777","file_permission":"0777","filename":"KubeConfig","sensitive_content":null,"source":null},"after_unknown":{"content":true,"content_base64sha256":true,"content_base64sha512":true,"content_md5":true,"content_sha1":true,"content_sha256":true,"content_sha512":true,"id":true},"before_sensitive":false,"after_sensitive":{"content":true,"sensitive_content":true}}},{"address":"module.aks_subnet.azurerm_subnet.subnet","module_address":"module.aks_subnet","mode":"managed","type":"azurerm_subnet","name":"subnet","provider_name":"registry.terraform.io/hashicorp/azurerm","change":{"actions":["create"],"before":null,"after":{"address_prefixes":["10.1.2.0/24"],"default_outbound_access_enabled":true,"delegation":[],"name":"zodiac-sn-aks","resource_group_name":"zodiac-rg","service_endpoint_policy_ids":null,"service_endpoints":null,"timeouts":null,"virtual_network_name":"zodiac-vn-aks"},"after_unknown":{"address_prefixes":[false],"delegation":[],"enforce_private_link_endpoint_network_policies":true,"enforce_private_link_service_network_policies":true,"id":true,"private_endpoint_network_policies":true,"private_endpoint_network_policies_enabled":true,"private_link_service_network_policies_enabled":true},"before_sensitive":false,"after_sensitive":{"address_prefixes":[false],"delegation":[]}}},{"address":"module.appgw_subnet.azurerm_subnet.subnet","module_address":"module.appgw_subnet","mode":"managed","type":"azurerm_subnet","name":"subnet","provider_name":"registry.terraform.io/hashicorp/azurerm","change":{"actions":["create"],"before":null,"after":{"address_prefixes":["10.0.1.0/24"],"default_outbound_access_enabled":true,"delegation":[],"name":"zodiac-sn-appgw","resource_group_name":"zodiac-rg","service_endpoint_policy_ids":null,"service_endpoints":null,"timeouts":null,"virtual_network_name":"zodiac-vn-appigw"},"after_unknown":{"address_prefixes":[false],"delegation":[],"enforce_private_link_endpoint_network_policies":true,"enforce_private_link_service_network_policies":true,"id":true,"private_endpoint_network_policies":true,"private_endpoint_network_policies_enabled":true,"private_link_service_network_policies_enabled":true},"before_sensitive":false,"after_sensitive":{"address_prefixes":[false],"delegation":[]}}},{"address":"module.application_gateway.azurerm_application_gateway.appgw","module_address":"module.application_gateway","mode":"managed","type":"azurerm_application_gateway","name":"appgw","provider_name":"registry.terraform.io/hashicorp/azurerm","change":{"actions":["create"],"before":null,"after":{"authentication_certificate":[],"autoscale_configuration":[],"backend_address_pool":[{"fqdns":[],"ip_addresses":[],"name":"zodiac-sn-appgw-backend-pool"}],"backend_http_settings":[{"affinity_cookie_name":"","authentication_certificate":[],"connection_draining":[],"cookie_based_affinity":"Disabled","host_name":"","name":"zodiac-sn-appgw-backend-http-setting","path":"","pick_host_name_from_backend_address":false,"port":80,"probe_name":"","protocol":"Http","request_timeout":60,"trusted_root_certificate_names":[]}],"custom_error_configuration":[],"enable_http2":null,"fips_enabled":null,"firewall_policy_id":null,"force_firewall_policy_association":null,"frontend_ip_configuration":[{"name":"zodiac-sn-appgw-front-ipconfig","private_ip_address_allocation":"Dynamic","private_link_configuration_name":null,"subnet_id":null}],"frontend_port":[{"name":"zodiac-sn-appgw-front-http-port","port":80}],"gateway_ip_configuration":[{"name":"appgwIpConfig"}],"global":[],"http_listener":[{"custom_error_configuration":[],"firewall_policy_id":"","frontend_ip_configuration_name":"zodiac-sn-appgw-front-ipconfig","frontend_port_name":"zodiac-sn-appgw-front-http-port","host_name":"","host_names":[],"name":"zodiac-sn-appgw-http-listener","protocol":"Http","require_sni":null,"ssl_certificate_name":"","ssl_profile_name":""}],"identity":[],"location":"eastus","name":"zodiacAppiGW","private_link_configuration":[],"probe":[],"redirect_configuration":[],"request_routing_rule":[{"backend_address_pool_name":"zodiac-sn-appgw-backend-pool","backend_http_settings_name":"zodiac-sn-appgw-backend-http-setting","http_listener_name":"zodiac-sn-appgw-http-listener","name":"zodiac-sn-appgw-request-routing-rule","priority":9,"redirect_configuration_name":"","rewrite_rule_set_name":"","rule_type":"Basic","url_path_map_name":""}],"resource_group_name":"zodiac-rg","rewrite_rule_set":[],"sku":[{"capacity":2,"name":"Standard_v2","tier":"Standard_v2"}],"ssl_certificate":[],"ssl_profile":[],"tags":null,"timeouts":null,"trusted_client_certificate":[],"trusted_root_certificate":[],"url_path_map":[],"waf_configuration":[],"zones":null},"after_unknown":{"authentication_certificate":[],"autoscale_configuration":[],"backend_address_pool":[{"fqdns":[],"id":true,"ip_addresses":[]}],"backend_http_settings":[{"authentication_certificate":[],"connection_draining":[],"id":true,"probe_id":true,"trusted_root_certificate_names":[]}],"custom_error_configuration":[],"frontend_ip_configuration":[{"id":true,"private_ip_address":true,"private_link_configuration_id":true,"public_ip_address_id":true}],"frontend_port":[{"id":true}],"gateway_ip_configuration":[{"id":true,"subnet_id":true}],"global":[],"http_listener":[{"custom_error_configuration":[],"frontend_ip_configuration_id":true,"frontend_port_id":true,"host_names":[],"id":true,"ssl_certificate_id":true,"ssl_profile_id":true}],"id":true,"identity":[],"private_endpoint_connection":true,"private_link_configuration":[],"probe":[],"redirect_configuration":[],"request_routing_rule":[{"backend_address_pool_id":true,"backend_http_settings_id":true,"http_listener_id":true,"id":true,"redirect_configuration_id":true,"rewrite_rule_set_id":true,"url_path_map_id":true}],"rewrite_rule_set":[],"sku":[{}],"ssl_certificate":[],"ssl_policy":true,"ssl_profile":[],"trusted_client_certificate":[],"trusted_root_certificate":[],"url_path_map":[],"waf_configuration":[]},"before_sensitive":false,"after_sensitive":{"authentication_certificate":[],"autoscale_configuration":[],"backend_address_pool":[{"fqdns":[],"ip_addresses":[]}],"backend_http_settings":[{"authentication_certificate":[],"connection_draining":[],"trusted_root_certificate_names":[]}],"custom_error_configuration":[],"frontend_ip_configuration":[{}],"frontend_port":[{}],"gateway_ip_configuration":[{}],"global":[],"http_listener":[{"custom_error_configuration":[],"host_names":[]}],"identity":[],"private_endpoint_connection":[],"private_link_configuration":[],"probe":[],"redirect_configuration":[],"request_routing_rule":[{}],"rewrite_rule_set":[],"sku":[{}],"ssl_certificate":[],"ssl_policy":[],"ssl_profile":[],"trusted_client_certificate":[],"trusted_root_certificate":[],"url_path_map":[],"waf_configuration":[]}}},{"address":"module.bastion.azurerm_bastion_host.bastion","module_address":"module.bastion","mode":"managed","type":"azurerm_bastion_host","name":"bastion","provider_name":"registry.terraform.io/hashicorp/azurerm","change":{"actions":["create"],"before":null,"after":{"copy_paste_enabled":true,"file_copy_enabled":false,"ip_configuration":[{"name":"zodiac-config-ip-bastion"}],"ip_connect_enabled":false,"kerberos_enabled":false,"location":"eastus","name":"zodiac-bastion","resource_group_name":"zodiac-rg","scale_units":2,"shareable_link_enabled":false,"sku":"Basic","tags":null,"timeouts":null,"tunneling_enabled":false,"virtual_network_id":null},"after_unknown":{"dns_name":true,"id":true,"ip_configuration":[{"public_ip_address_id":true,"subnet_id":true}]},"before_sensitive":false,"after_sensitive":{"ip_configuration":[{}]}}},{"address":"module.container_registry.azurerm_container_registry.cr","module_address":"module.container_registry","mode":"managed","type":"azurerm_container_registry","name":"cr","provider_name":"registry.terraform.io/hashicorp/azurerm","change":{"actions":["create"],"before":null,"after":{"admin_enabled":true,"anonymous_pull_enabled":null,"data_endpoint_enabled":null,"export_policy_enabled":true,"georeplications":[],"identity":[],"location":"eastus","name":"zodiaccr","network_rule_bypass_option":"AzureServices","public_network_access_enabled":true,"quarantine_policy_enabled":null,"resource_group_name":"zodiac-rg","sku":"Standard","tags":null,"timeouts":null,"zone_redundancy_enabled":false},"after_unknown":{"admin_password":true,"admin_username":true,"encryption":true,"georeplications":[],"id":true,"identity":[],"login_server":true,"network_rule_set":true,"retention_policy":true,"trust_policy":true},"before_sensitive":false,"after_sensitive":{"admin_password":true,"encryption":[],"georeplications":[],"identity":[],"network_rule_set":[],"retention_policy":[],"trust_policy":[]}}},{"address":"module.identity.azurerm_user_assigned_identity.identity","module_address":"module.identity","mode":"managed","type":"azurerm_user_assigned_identity","name":"identity","provider_name":"registry.terraform.io/hashicorp/azurerm","change":{"actions":["create"],"before":null,"after":{"location":"eastus","name":"zodiac-identity","resource_group_name":"zodiac-rg","tags":null,"timeouts":null},"after_unknown":{"client_id":true,"id":true,"principal_id":true,"tenant_id":true},"before_sensitive":false,"after_sensitive":{}}},{"address":"module.ip_appgw.azurerm_public_ip.publicIp","module_address":"module.ip_appgw","mode":"managed","type":"azurerm_public_ip","name":"publicIp","provider_name":"registry.terraform.io/hashicorp/azurerm","change":{"actions":["create"],"before":null,"after":{"allocation_method":"Static","ddos_protection_mode":"VirtualNetworkInherited","ddos_protection_plan_id":null,"domain_name_label":null,"edge_zone":null,"idle_timeout_in_minutes":4,"ip_tags":null,"ip_version":"IPv4","location":"eastus","name":"zodiac-ip-appgw","public_ip_prefix_id":null,"resource_group_name":"zodiac-rg","reverse_fqdn":null,"sku":"Standard","sku_tier":"Regional","tags":null,"timeouts":null,"zones":null},"after_unknown":{"fqdn":true,"id":true,"ip_address":true},"before_sensitive":false,"after_sensitive":{}}},{"address":"module.ip_bastion.azurerm_public_ip.publicIp","module_address":"module.ip_bastion","mode":"managed","type":"azurerm_public_ip","name":"publicIp","provider_name":"registry.terraform.io/hashicorp/azurerm","change":{"actions":["create"],"before":null,"after":{"allocation_method":"Static","ddos_protection_mode":"VirtualNetworkInherited","ddos_protection_plan_id":null,"domain_name_label":null,"edge_zone":null,"idle_timeout_in_minutes":4,"ip_tags":null,"ip_version":"IPv4","location":"eastus","name":"zodiac-ip-bastion","public_ip_prefix_id":null,"resource_group_name":"zodiac-rg","reverse_fqdn":null,"sku":"Standard","sku_tier":"Regional","tags":null,"timeouts":null,"zones":null},"after_unknown":{"fqdn":true,"id":true,"ip_address":true},"before_sensitive":false,"after_sensitive":{}}},{"address":"module.key_vault.azurerm_key_vault.key_vault","module_address":"module.key_vault","mode":"managed","type":"azurerm_key_vault","name":"key_vault","provider_name":"registry.terraform.io/hashicorp/azurerm","change":{"actions":["create"],"before":null,"after":{"enable_rbac_authorization":null,"enabled_for_deployment":null,"enabled_for_disk_encryption":true,"enabled_for_template_deployment":null,"location":"eastus","name":"zodiacKeyVault","public_network_access_enabled":true,"purge_protection_enabled":false,"resource_group_name":"zodiac-rg","sku_name":"standard","soft_delete_retention_days":7,"tags":null,"tenant_id":"e66e77b4-5724-44d7-8721-06df160450ce","timeouts":null},"after_unknown":{"access_policy":true,"contact":true,"id":true,"network_acls":true,"vault_uri":true},"before_sensitive":false,"after_sensitive":{"access_policy":[],"contact":[],"network_acls":[]}}},{"address":"module.key_vault_secret_webserver-config.azurerm_key_vault_secret.key_vault_secret","module_address":"module.key_vault_secret_webserver-config","mode":"managed","type":"azurerm_key_vault_secret","name":"key_vault_secret","provider_name":"registry.terraform.io/hashicorp/azurerm","change":{"actions":["create"],"before":null,"after":{"content_type":null,"expiration_date":null,"name":"zodiac-conf","not_before_date":null,"tags":null,"timeouts":null,"value":"config-value"},"after_unknown":{"id":true,"key_vault_id":true,"resource_id":true,"resource_versionless_id":true,"version":true,"versionless_id":true},"before_sensitive":false,"after_sensitive":{"value":true}}},{"address":"module.key_vault_secret_webserver_properties.azurerm_key_vault_secret.key_vault_secret","module_address":"module.key_vault_secret_webserver_properties","mode":"managed","type":"azurerm_key_vault_secret","name":"key_vault_secret","provider_name":"registry.terraform.io/hashicorp/azurerm","change":{"actions":["create"],"before":null,"after":{"content_type":null,"expiration_date":null,"name":"zodiac-prop","not_before_date":null,"tags":null,"timeouts":null,"value":"properties-value"},"after_unknown":{"id":true,"key_vault_id":true,"resource_id":true,"resource_versionless_id":true,"version":true,"versionless_id":true},"before_sensitive":false,"after_sensitive":{"value":true}}},{"address":"module.peeringAppgwToCluster.azurerm_virtual_network_peering.ClustertoAppGWVnetPeering","module_address":"module.peeringAppgwToCluster","mode":"managed","type":"azurerm_virtual_network_peering","name":"ClustertoAppGWVnetPeering","provider_name":"registry.terraform.io/hashicorp/azurerm","change":{"actions":["create"],"before":null,"after":{"allow_forwarded_traffic":false,"allow_gateway_transit":false,"allow_virtual_network_access":true,"local_subnet_names":null,"name":"zodiac-peer-appgw-cluster","only_ipv6_peering_enabled":null,"peer_complete_virtual_networks_enabled":true,"remote_subnet_names":null,"resource_group_name":"zodiac-rg","timeouts":null,"triggers":null,"use_remote_gateways":false,"virtual_network_name":"zodiac-vn-appigw"},"after_unknown":{"id":true,"remote_virtual_network_id":true},"before_sensitive":false,"after_sensitive":{}}},{"address":"module.peeringClusterToAppgw.azurerm_virtual_network_peering.ClustertoAppGWVnetPeering","module_address":"module.peeringClusterToAppgw","mode":"managed","type":"azurerm_virtual_network_peering","name":"ClustertoAppGWVnetPeering","provider_name":"registry.terraform.io/hashicorp/azurerm","change":{"actions":["create"],"before":null,"after":{"allow_forwarded_traffic":false,"allow_gateway_transit":false,"allow_virtual_network_access":true,"local_subnet_names":null,"name":"zodiac-peer-cluster-appgw","only_ipv6_peering_enabled":null,"peer_complete_virtual_networks_enabled":true,"remote_subnet_names":null,"resource_group_name":"zodiac-rg","timeouts":null,"triggers":null,"use_remote_gateways":false,"virtual_network_name":"zodiac-vn-aks"},"after_unknown":{"id":true,"remote_virtual_network_id":true},"before_sensitive":false,"after_sensitive":{}}},{"address":"module.resource_group.azurerm_resource_group.rg","module_address":"module.resource_group","mode":"managed","type":"azurerm_resource_group","name":"rg","provider_name":"registry.terraform.io/hashicorp/azurerm","change":{"actions":["create"],"before":null,"after":{"location":"eastus","managed_by":null,"name":"zodiac-rg","tags":null,"timeouts":null},"after_unknown":{"id":true},"before_sensitive":false,"after_sensitive":{}}},{"address":"module.role_aks_cluster.azurerm_role_assignment.role","module_address":"module.role_aks_cluster","mode":"managed","type":"azurerm_role_assignment","name":"role","provider_name":"registry.terraform.io/hashicorp/azurerm","change":{"actions":["create"],"before":null,"after":{"condition":null,"condition_version":null,"delegated_managed_identity_resource_id":null,"description":null,"role_definition_name":"AcrPull","skip_service_principal_aad_check":true,"timeouts":null},"after_unknown":{"id":true,"name":true,"principal_id":true,"principal_type":true,"role_definition_id":true,"scope":true},"before_sensitive":false,"after_sensitive":{}}},{"address":"module.role_key_vault_access.azurerm_role_assignment.role","module_address":"module.role_key_vault_access","mode":"managed","type":"azurerm_role_assignment","name":"role","provider_name":"registry.terraform.io/hashicorp/azurerm","change":{"actions":["create"],"before":null,"after":{"condition":null,"condition_version":null,"delegated_managed_identity_resource_id":null,"description":null,"role_definition_name":"Reader","skip_service_principal_aad_check":false,"timeouts":null},"after_unknown":{"id":true,"name":true,"principal_id":true,"principal_type":true,"role_definition_id":true,"scope":true},"before_sensitive":false,"after_sensitive":{}}},{"address":"module.virtual_network_aks.azurerm_virtual_network.vn","module_address":"module.virtual_network_aks","mode":"managed","type":"azurerm_virtual_network","name":"vn","provider_name":"registry.terraform.io/hashicorp/azurerm","change":{"actions":["create"],"before":null,"after":{"address_space":["10.1.0.0/16"],"bgp_community":null,"ddos_protection_plan":[],"edge_zone":null,"encryption":[],"flow_timeout_in_minutes":null,"location":"eastus","name":"zodiac-vn-aks","resource_group_name":"zodiac-rg","tags":null,"timeouts":null},"after_unknown":{"address_space":[false],"ddos_protection_plan":[],"dns_servers":true,"encryption":[],"guid":true,"id":true,"subnet":true},"before_sensitive":false,"after_sensitive":{"address_space":[false],"ddos_protection_plan":[],"dns_servers":[],"encryption":[],"subnet":[]}}},{"address":"module.virtual_network_appigw.azurerm_virtual_network.vn","module_address":"module.virtual_network_appigw","mode":"managed","type":"azurerm_virtual_network","name":"vn","provider_name":"registry.terraform.io/hashicorp/azurerm","change":{"actions":["create"],"before":null,"after":{"address_space":["10.0.0.0/16"],"bgp_community":null,"ddos_protection_plan":[],"edge_zone":null,"encryption":[],"flow_timeout_in_minutes":null,"location":"eastus","name":"zodiac-vn-appigw","resource_group_name":"zodiac-rg","tags":null,"timeouts":null},"after_unknown":{"address_space":[false],"ddos_protection_plan":[],"dns_servers":true,"encryption":[],"guid":true,"id":true,"subnet":true},"before_sensitive":false,"after_sensitive":{"address_space":[false],"ddos_protection_plan":[],"dns_servers":[],"encryption":[],"subnet":[]}}}],"output_changes":{"application_gateway_name":{"actions":["create"],"before":null,"after":"zodiacAppiGW","after_unknown":false,"before_sensitive":false,"after_sensitive":false},"cluster_name":{"actions":["create"],"before":null,"after":"zodiac-aks","after_unknown":false,"before_sensitive":false,"after_sensitive":false},"resource_group_name":{"actions":["create"],"before":null,"after":"zodiac-rg","after_unknown":false,"before_sensitive":false,"after_sensitive":false}},"prior_state":{"format_version":"1.0","terraform_version":"1.9.4","values":{"outputs":{"application_gateway_name":{"sensitive":false,"value":"zodiacAppiGW","type":"string"},"cluster_name":{"sensitive":false,"value":"zodiac-aks","type":"string"},"resource_group_name":{"sensitive":false,"value":"zodiac-rg","type":"string"}},"root_module":{"resources":[{"address":"data.azurerm_client_config.current","mode":"data","type":"azurerm_client_config","name":"current","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"client_id":"04b07795-8ddb-461a-bbee-02f9e1bf7b46","id":"Y2xpZW50Q29uZmlncy9jbGllbnRJZD0wNGIwNzc5NS04ZGRiLTQ2MWEtYmJlZS0wMmY5ZTFiZjdiNDY7b2JqZWN0SWQ9NjJlNTM3MGEtMmJmNC00NzM0LTg1MTEtY2M3OTg4MjVmMDYyO3N1YnNjcmlwdGlvbklkPTFiNzQxNGEzLWIwMzQtNGY3Yi05NzA4LTM1N2YxZGRlY2Q3YTt0ZW5hbnRJZD1lNjZlNzdiNC01NzI0LTQ0ZDctODcyMS0wNmRmMTYwNDUwY2U=","object_id":"62e5370a-2bf4-4734-8511-cc798825f062","subscription_id":"1b7414a3-b034-4f7b-9708-357f1ddecd7a","tenant_id":"e66e77b4-5724-44d7-8721-06df160450ce","timeouts":null},"sensitive_values":{}}]}}},"configuration":{"provider_config":{"azurerm":{"name":"azurerm","full_name":"registry.terraform.io/hashicorp/azurerm","expressions":{"features":[{}]}},"module.aks_cluster:local":{"name":"local","full_name":"registry.terraform.io/hashicorp/local","module_address":"module.aks_cluster"},"null":{"name":"null","full_name":"registry.terraform.io/hashicorp/null"}},"root_module":{"outputs":{"application_gateway_name":{"expression":{"references":["module.application_gateway.application_gateway_name","module.application_gateway"]}},"cluster_name":{"expression":{"references":["module.aks_cluster.name","module.aks_cluster"]}},"resource_group_name":{"expression":{"references":["module.resource_group.name","module.resource_group"]}}},"resources":[{"address":"null_resource.execute_script","mode":"managed","type":"null_resource","name":"execute_script","provider_config_key":"null","provisioners":[{"type":"local-exec","expressions":{"command":{"constant_value":"chmod +x script.sh \u0026\u0026 ./script.sh"}}}],"schema_version":0,"depends_on":["module.application_gateway","module.key_vault","module.aks_cluster","module.role_key_vault_access","module.role_aks_cluster","module.container_registry","module.bastion","module.resource_group","module.access_policy_aks_cluster","module.access_policy_identity","module.access_policy_current_user","module.key_vault_secret_webserver-config","module.key_vault_secret_webserver_properties"]},{"address":"data.azurerm_client_config.current","mode":"data","type":"azurerm_client_config","name":"current","provider_config_key":"azurerm","schema_version":0}],"module_calls":{"AzureBastionSubnet":{"source":"./modules/subnet","expressions":{"address_prefixes":{"constant_value":["10.1.1.0/24"]},"name":{"constant_value":"AzureBastionSubnet"},"resource_group_name":{"references":["module.resource_group.name","module.resource_group"]},"virtual_network_name":{"references":["module.virtual_network_aks.name","module.virtual_network_aks"]}},"module":{"outputs":{"id":{"expression":{"references":["azurerm_subnet.subnet.id","azurerm_subnet.subnet"]},"description":"id of the subnet"},"name":{"expression":{"references":["azurerm_subnet.subnet.name","azurerm_subnet.subnet"]},"description":"name of the subnet"}},"resources":[{"address":"azurerm_subnet.subnet","mode":"managed","type":"azurerm_subnet","name":"subnet","provider_config_key":"azurerm","expressions":{"address_prefixes":{"references":["var.address_prefixes"]},"name":{"references":["var.name"]},"resource_group_name":{"references":["var.resource_group_name"]},"virtual_network_name":{"references":["var.virtual_network_name"]}},"schema_version":0}],"variables":{"address_prefixes":{"default":"10.0.0.0/16","description":"Range of ip for the subnet"},"name":{"default":null,"description":"The name of the resource"},"resource_group_name":{"default":null,"description":"Resource group of the IaC"},"virtual_network_name":{"default":null,"description":"Virtual network or supernet of the subnet"}}}},"access_policy_aks_cluster":{"source":"./modules/access_policy","expressions":{"certificate_permissions":{"constant_value":["Get"]},"key_permissions":{"constant_value":["Get","Create","List","Delete","Purge","Recover","SetRotationPolicy","GetRotationPolicy"]},"key_vault_id":{"references":["module.key_vault.key_vault_id","module.key_vault"]},"object_id":{"references":["module.aks_cluster.secret_provider","module.aks_cluster"]},"secret_permissions":{"constant_value":["Get","Set","List","Delete","Purge","Recover"]},"tenant_id":{"references":["data.azurerm_client_config.current.tenant_id","data.azurerm_client_config.current"]}},"module":{"resources":[{"address":"azurerm_key_vault_access_policy.access_policy","mode":"managed","type":"azurerm_key_vault_access_policy","name":"access_policy","provider_config_key":"azurerm","expressions":{"certificate_permissions":{"references":["var.certificate_permissions"]},"key_permissions":{"references":["var.key_permissions"]},"key_vault_id":{"references":["var.key_vault_id"]},"object_id":{"references":["var.object_id"]},"secret_permissions":{"references":["var.secret_permissions"]},"tenant_id":{"references":["var.tenant_id"]}},"schema_version":0}],"variables":{"certificate_permissions":{"default":null,"description":"value"},"key_permissions":{"default":null,"description":"value"},"key_vault_id":{"default":null,"description":"The ID of the Key Vault where the policy should be created"},"object_id":{"default":null,"description":"value"},"secret_permissions":{"default":null,"description":"value"},"tenant_id":{"default":null}}},"depends_on":["module.access_policy_current_user","module.key_vault","module.aks_cluster"]},"access_policy_current_user":{"source":"./modules/access_policy","expressions":{"certificate_permissions":{"constant_value":["Get"]},"key_permissions":{"constant_value":["Get","Create","List","Delete","Purge","Recover","SetRotationPolicy","GetRotationPolicy"]},"key_vault_id":{"references":["module.key_vault.key_vault_id","module.key_vault"]},"object_id":{"references":["data.azurerm_client_config.current.object_id","data.azurerm_client_config.current"]},"secret_permissions":{"constant_value":["Get","Set","List","Delete","Purge","Recover"]},"tenant_id":{"references":["data.azurerm_client_config.current.tenant_id","data.azurerm_client_config.current"]}},"module":{"resources":[{"address":"azurerm_key_vault_access_policy.access_policy","mode":"managed","type":"azurerm_key_vault_access_policy","name":"access_policy","provider_config_key":"azurerm","expressions":{"certificate_permissions":{"references":["var.certificate_permissions"]},"key_permissions":{"references":["var.key_permissions"]},"key_vault_id":{"references":["var.key_vault_id"]},"object_id":{"references":["var.object_id"]},"secret_permissions":{"references":["var.secret_permissions"]},"tenant_id":{"references":["var.tenant_id"]}},"schema_version":0}],"variables":{"certificate_permissions":{"default":null,"description":"value"},"key_permissions":{"default":null,"description":"value"},"key_vault_id":{"default":null,"description":"The ID of the Key Vault where the policy should be created"},"object_id":{"default":null,"description":"value"},"secret_permissions":{"default":null,"description":"value"},"tenant_id":{"default":null}}}},"access_policy_identity":{"source":"./modules/access_policy","expressions":{"certificate_permissions":{"constant_value":["Get"]},"key_permissions":{"constant_value":["Get","Create","List","Delete","Purge","Recover","SetRotationPolicy","GetRotationPolicy"]},"key_vault_id":{"references":["module.key_vault.key_vault_id","module.key_vault"]},"object_id":{"references":["module.identity.principal_id","module.identity"]},"secret_permissions":{"constant_value":["Get","Set","List","Delete","Purge","Recover"]},"tenant_id":{"references":["data.azurerm_client_config.current.tenant_id","data.azurerm_client_config.current"]}},"module":{"resources":[{"address":"azurerm_key_vault_access_policy.access_policy","mode":"managed","type":"azurerm_key_vault_access_policy","name":"access_policy","provider_config_key":"azurerm","expressions":{"certificate_permissions":{"references":["var.certificate_permissions"]},"key_permissions":{"references":["var.key_permissions"]},"key_vault_id":{"references":["var.key_vault_id"]},"object_id":{"references":["var.object_id"]},"secret_permissions":{"references":["var.secret_permissions"]},"tenant_id":{"references":["var.tenant_id"]}},"schema_version":0}],"variables":{"certificate_permissions":{"default":null,"description":"value"},"key_permissions":{"default":null,"description":"value"},"key_vault_id":{"default":null,"description":"The ID of the Key Vault where the policy should be created"},"object_id":{"default":null,"description":"value"},"secret_permissions":{"default":null,"description":"value"},"tenant_id":{"default":null}}},"depends_on":["module.access_policy_current_user","module.key_vault","module.identity"]},"aks_cluster":{"source":"./modules/aks_cluster","expressions":{"dns_prefix":{"references":["var.prefix_name"]},"identity_type":{"constant_value":"SystemAssigned"},"local_file":{"constant_value":"KubeConfig"},"location":{"references":["module.resource_group.location","module.resource_group"]},"name":{"references":["var.prefix_name"]},"network_plugin":{"constant_value":"azure"},"node_count":{"constant_value":1},"node_pool_name":{"references":["var.prefix_name"]},"os_disk_size_gb":{"constant_value":40},"resource_group_name":{"references":["module.resource_group.name","module.resource_group"]},"secret_rotation_enabled":{"constant_value":true},"subnet_id":{"references":["module.aks_subnet.id","module.aks_subnet"]},"vm_size":{"constant_value":"Standard_DS2_v2"}},"module":{"outputs":{"name":{"expression":{"references":["azurerm_kubernetes_cluster.aks_cluster.name","azurerm_kubernetes_cluster.aks_cluster"]},"description":"The name of the resource"},"principal_id":{"expression":{"references":["azurerm_kubernetes_cluster.aks_cluster.kubelet_identity[0].object_id","azurerm_kubernetes_cluster.aks_cluster.kubelet_identity[0]","azurerm_kubernetes_cluster.aks_cluster.kubelet_identity","azurerm_kubernetes_cluster.aks_cluster"]},"description":"The ID of the created AKS cluster."},"secret_provider":{"expression":{"references":["azurerm_kubernetes_cluster.aks_cluster.key_vault_secrets_provider[0].secret_identity[0].object_id","azurerm_kubernetes_cluster.aks_cluster.key_vault_secrets_provider[0].secret_identity[0]","azurerm_kubernetes_cluster.aks_cluster.key_vault_secrets_provider[0].secret_identity","azurerm_kubernetes_cluster.aks_cluster.key_vault_secrets_provider[0]","azurerm_kubernetes_cluster.aks_cluster.key_vault_secrets_provider","azurerm_kubernetes_cluster.aks_cluster"]},"description":"The ID of the created AKS cluster."}},"resources":[{"address":"azurerm_kubernetes_cluster.aks_cluster","mode":"managed","type":"azurerm_kubernetes_cluster","name":"aks_cluster","provider_config_key":"azurerm","expressions":{"default_node_pool":[{"name":{"references":["var.node_pool_name"]},"node_count":{"references":["var.node_count"]},"os_disk_size_gb":{"references":["var.os_disk_size_gb"]},"vm_size":{"references":["var.vm_size"]},"vnet_subnet_id":{"references":["var.subnet_id"]}}],"dns_prefix":{"references":["var.dns_prefix"]},"identity":[{"type":{"references":["var.identity_type"]}}],"key_vault_secrets_provider":[{"secret_rotation_enabled":{"references":["var.secret_rotation_enabled"]}}],"location":{"references":["var.location"]},"name":{"references":["var.name"]},"network_profile":[{"network_plugin":{"references":["var.network_plugin"]}}],"resource_group_name":{"references":["var.resource_group_name"]}},"schema_version":2},{"address":"local_file.kubeconfig","mode":"managed","type":"local_file","name":"kubeconfig","provider_config_key":"module.aks_cluster:local","expressions":{"content":{"references":["azurerm_kubernetes_cluster.aks_cluster.kube_config_raw","azurerm_kubernetes_cluster.aks_cluster"]},"filename":{"references":["var.local_file"]}},"schema_version":0,"depends_on":["azurerm_kubernetes_cluster.aks_cluster"]}],"variables":{"dns_prefix":{"default":"zodiac","description":"dns of the AKS cluster"},"identity_type":{"default":null,"description":"identity type of the aks_cluster"},"local_file":{"default":"kubeconfig","description":"Name of the kuberneter file"},"location":{"default":"eastus","description":"Name of the AKS cluster"},"name":{"default":null,"description":"Name of the AKS cluster"},"network_plugin":{"default":null,"description":"enables you to configure communication within your k8s network"},"node_count":{"default":null,"description":"number of pods replicas for the AKS cluster's node pool"},"node_pool_name":{"default":null,"description":"name of the AKS cluster's node pool"},"os_disk_size_gb":{"default":null,"description":"size of the operative system disk"},"resource_group_name":{"default":null,"description":"resource group for the AKS cluster"},"secret_rotation_enabled":{"default":null,"description":"Must be specified to enable key_vault_secrets_provider"},"subnet_id":{"default":null,"description":"id of the subnet for the AKS cluster's node pool"},"vm_size":{"default":null,"description":"vm size for the AKS cluster's node pool"}}}},"aks_subnet":{"source":"./modules/subnet","expressions":{"address_prefixes":{"constant_value":["10.1.2.0/24"]},"name":{"references":["var.prefix_name"]},"resource_group_name":{"references":["module.resource_group.name","module.resource_group"]},"virtual_network_name":{"references":["module.virtual_network_aks.name","module.virtual_network_aks"]}},"module":{"outputs":{"id":{"expression":{"references":["azurerm_subnet.subnet.id","azurerm_subnet.subnet"]},"description":"id of the subnet"},"name":{"expression":{"references":["azurerm_subnet.subnet.name","azurerm_subnet.subnet"]},"description":"name of the subnet"}},"resources":[{"address":"azurerm_subnet.subnet","mode":"managed","type":"azurerm_subnet","name":"subnet","provider_config_key":"azurerm","expressions":{"address_prefixes":{"references":["var.address_prefixes"]},"name":{"references":["var.name"]},"resource_group_name":{"references":["var.resource_group_name"]},"virtual_network_name":{"references":["var.virtual_network_name"]}},"schema_version":0}],"variables":{"address_prefixes":{"default":"10.0.0.0/16","description":"Range of ip for the subnet"},"name":{"default":null,"description":"The name of the resource"},"resource_group_name":{"default":null,"description":"Resource group of the IaC"},"virtual_network_name":{"default":null,"description":"Virtual network or supernet of the subnet"}}}},"appgw_subnet":{"source":"./modules/subnet","expressions":{"address_prefixes":{"constant_value":["10.0.1.0/24"]},"name":{"references":["var.prefix_name"]},"resource_group_name":{"references":["module.resource_group.name","module.resource_group"]},"virtual_network_name":{"references":["module.virtual_network_appigw.name","module.virtual_network_appigw"]}},"module":{"outputs":{"id":{"expression":{"references":["azurerm_subnet.subnet.id","azurerm_subnet.subnet"]},"description":"id of the subnet"},"name":{"expression":{"references":["azurerm_subnet.subnet.name","azurerm_subnet.subnet"]},"description":"name of the subnet"}},"resources":[{"address":"azurerm_subnet.subnet","mode":"managed","type":"azurerm_subnet","name":"subnet","provider_config_key":"azurerm","expressions":{"address_prefixes":{"references":["var.address_prefixes"]},"name":{"references":["var.name"]},"resource_group_name":{"references":["var.resource_group_name"]},"virtual_network_name":{"references":["var.virtual_network_name"]}},"schema_version":0}],"variables":{"address_prefixes":{"default":"10.0.0.0/16","description":"Range of ip for the subnet"},"name":{"default":null,"description":"The name of the resource"},"resource_group_name":{"default":null,"description":"Resource group of the IaC"},"virtual_network_name":{"default":null,"description":"Virtual network or supernet of the subnet"}}}},"application_gateway":{"source":"./modules/application_gateway","expressions":{"backend_address_pool_name":{"references":["module.appgw_subnet.name","module.appgw_subnet"]},"backend_http_settings_name":{"references":["module.appgw_subnet.name","module.appgw_subnet"]},"backend_http_settings_port":{"constant_value":80},"backend_http_settings_protocol":{"constant_value":"Http"},"backend_http_settings_request_timeout":{"constant_value":60},"cookie_based_affinity":{"constant_value":"Disabled"},"frontend_ip_configuration_name":{"references":["module.appgw_subnet.name","module.appgw_subnet"]},"frontend_port_name":{"references":["module.appgw_subnet.name","module.appgw_subnet"]},"frontend_port_port":{"constant_value":80},"gateway_ip_configuration_name":{"constant_value":"appgwIpConfig"},"http_listener_frontend_ip_configuration_name":{"references":["module.appgw_subnet.name","module.appgw_subnet"]},"http_listener_frontend_port_name":{"references":["module.appgw_subnet.name","module.appgw_subnet"]},"http_listener_name":{"references":["module.appgw_subnet.name","module.appgw_subnet"]},"http_listener_protocol":{"constant_value":"Http"},"location":{"references":["module.resource_group.location","module.resource_group"]},"name":{"references":["var.prefix_name"]},"public_ip_address_id":{"references":["module.ip_appgw.id","module.ip_appgw"]},"request_routing_rule_backend_address_pool_name":{"references":["module.appgw_subnet.name","module.appgw_subnet"]},"request_routing_rule_backend_http_settings_name":{"references":["module.appgw_subnet.name","module.appgw_subnet"]},"request_routing_rule_http_listener_name":{"references":["module.appgw_subnet.name","module.appgw_subnet"]},"request_routing_rule_name":{"references":["module.appgw_subnet.name","module.appgw_subnet"]},"request_routing_rule_priority":{"constant_value":9},"request_routing_rule_rule_type":{"constant_value":"Basic"},"resource_group_name":{"references":["module.resource_group.name","module.resource_group"]},"sku_capacity":{"constant_value":2},"sku_name":{"constant_value":"Standard_v2"},"sku_tier":{"constant_value":"Standard_v2"},"subnet_id":{"references":["module.appgw_subnet.id","module.appgw_subnet"]}},"module":{"outputs":{"application_gateway_id":{"expression":{"references":["azurerm_application_gateway.appgw.id","azurerm_application_gateway.appgw"]},"description":"The ID of the created Azure Application Gateway."},"application_gateway_name":{"expression":{"references":["azurerm_application_gateway.appgw.name","azurerm_application_gateway.appgw"]},"description":"The name of the created Azure Application Gateway."}},"resources":[{"address":"azurerm_application_gateway.appgw","mode":"managed","type":"azurerm_application_gateway","name":"appgw","provider_config_key":"azurerm","expressions":{"backend_address_pool":[{"name":{"references":["var.backend_address_pool_name"]}}],"backend_http_settings":[{"cookie_based_affinity":{"references":["var.cookie_based_affinity"]},"name":{"references":["var.backend_http_settings_name"]},"port":{"references":["var.backend_http_settings_port"]},"protocol":{"references":["var.backend_http_settings_protocol"]},"request_timeout":{"references":["var.backend_http_settings_request_timeout"]}}],"frontend_ip_configuration":[{"name":{"references":["var.frontend_ip_configuration_name"]},"public_ip_address_id":{"references":["var.public_ip_address_id"]}}],"frontend_port":[{"name":{"references":["var.frontend_port_name"]},"port":{"references":["var.frontend_port_port"]}}],"gateway_ip_configuration":[{"name":{"references":["var.gateway_ip_configuration_name"]},"subnet_id":{"references":["var.subnet_id"]}}],"http_listener":[{"frontend_ip_configuration_name":{"references":["var.http_listener_frontend_ip_configuration_name"]},"frontend_port_name":{"references":["var.http_listener_frontend_port_name"]},"name":{"references":["var.http_listener_name"]},"protocol":{"references":["var.http_listener_protocol"]}}],"location":{"references":["var.location"]},"name":{"references":["var.name"]},"request_routing_rule":[{"backend_address_pool_name":{"references":["var.request_routing_rule_backend_address_pool_name"]},"backend_http_settings_name":{"references":["var.request_routing_rule_backend_http_settings_name"]},"http_listener_name":{"references":["var.request_routing_rule_http_listener_name"]},"name":{"references":["var.request_routing_rule_name"]},"priority":{"references":["var.request_routing_rule_priority"]},"rule_type":{"references":["var.request_routing_rule_rule_type"]}}],"resource_group_name":{"references":["var.resource_group_name"]},"sku":[{"capacity":{"references":["var.sku_capacity"]},"name":{"references":["var.sku_name"]},"tier":{"references":["var.sku_tier"]}}]},"schema_version":0}],"variables":{"backend_address_pool_name":{"default":null,"description":"The name of the backend address pool."},"backend_http_settings_name":{"default":null,"description":"The name of the backend HTTP settings."},"backend_http_settings_port":{"default":null,"description":"The port number for the backend HTTP settings."},"backend_http_settings_protocol":{"default":null,"description":"The protocol for the backend HTTP settings (e.g., 'Http' or 'Https')."},"backend_http_settings_request_timeout":{"default":null,"description":"The request timeout for the backend HTTP settings (in seconds)."},"cookie_based_affinity":{"default":null},"frontend_ip_configuration_name":{"default":"10.0.0.0/16","description":"The name of the frontend IP configuration."},"frontend_port_name":{"default":null,"description":"The name of the frontend port."},"frontend_port_port":{"default":null,"description":"The port number of the frontend port."},"gateway_ip_configuration_name":{"default":"10.0.0.0/16","description":"The name of the gateway IP configuration."},"http_listener_frontend_ip_configuration_name":{"default":"10.0.0.0/16","description":"The name of the frontend IP configuration associated with the HTTP listener."},"http_listener_frontend_port_name":{"default":null,"description":"The name of the frontend port associated with the HTTP listener."},"http_listener_name":{"default":null,"description":"The name of the HTTP listener."},"http_listener_protocol":{"default":null,"description":"The protocol for the HTTP listener (e.g., 'Http' or 'Https')."},"location":{"default":"eastus","description":"The location/region where the Application Gateway will be deployed."},"name":{"default":null,"description":"The name of the Application Gateway."},"public_ip_address_id":{"default":"10.0.0.0/16","description":"The ID of the public IP address to associate with the frontend IP configuration."},"request_routing_rule_backend_address_pool_name":{"default":null,"description":"The name of the backend address pool associated with the request routing rule."},"request_routing_rule_backend_http_settings_name":{"default":null,"description":"The name of the backend HTTP settings associated with the request routing rule."},"request_routing_rule_http_listener_name":{"default":null,"description":"The name of the HTTP listener associated with the request routing rule."},"request_routing_rule_name":{"default":null,"description":"The name of the request routing rule."},"request_routing_rule_priority":{"default":null,"description":"The priority of the request routing rule."},"request_routing_rule_rule_type":{"default":null,"description":"The type of the request routing rule."},"resource_group_name":{"default":null,"description":"The name of the resource group in which to create the Application Gateway."},"sku_capacity":{"default":null,"description":"The capacity (instance count) of the SKU for the Application Gateway."},"sku_name":{"default":null,"description":"The name of the SKU for the Application Gateway."},"sku_tier":{"default":null,"description":"The tier of the SKU for the Application Gateway."},"subnet_id":{"default":null,"description":"The ID of the subnet to which the Application Gateway should be deployed."}}}},"bastion":{"source":"./modules/bastion","expressions":{"ip_configuration_name":{"references":["var.prefix_name"]},"location":{"references":["module.resource_group.location","module.resource_group"]},"name":{"references":["var.prefix_name"]},"public_ip_address_id":{"references":["module.ip_bastion.id","module.ip_bastion"]},"resource_group_name":{"references":["module.resource_group.name","module.resource_group"]},"subnet_id":{"references":["module.AzureBastionSubnet.id","module.AzureBastionSubnet"]}},"module":{"resources":[{"address":"azurerm_bastion_host.bastion","mode":"managed","type":"azurerm_bastion_host","name":"bastion","provider_config_key":"azurerm","expressions":{"ip_configuration":[{"name":{"references":["var.ip_configuration_name"]},"public_ip_address_id":{"references":["var.public_ip_address_id"]},"subnet_id":{"references":["var.subnet_id"]}}],"location":{"references":["var.location"]},"name":{"references":["var.name"]},"resource_group_name":{"references":["var.resource_group_name"]}},"schema_version":0}],"variables":{"ip_configuration_name":{"default":"10.0.0.0/16","description":"The name of the ip_configuration of the Bastion."},"location":{"default":"eastus","description":"The location of the Bastion."},"name":{"default":null,"description":"The name of the Bastion."},"public_ip_address_id":{"default":"10.0.0.0/16","description":"The name of the ip_configuration of the Bastion."},"resource_group_name":{"default":null,"description":"The location of the Bastion."},"subnet_id":{"default":null,"description":"The name of the ip_configuration of the Bastion."}}}},"container_registry":{"source":"./modules/container_registry","expressions":{"admin_enabled":{"constant_value":true},"container_name":{"references":["var.prefix_name"]},"location":{"references":["module.resource_group.location","module.resource_group"]},"resource_group_name":{"references":["module.resource_group.name","module.resource_group"]},"sku":{"constant_value":"Standard"}},"module":{"outputs":{"scope":{"expression":{"references":["azurerm_container_registry.cr.id","azurerm_container_registry.cr"]},"description":"The ID of the created container registry"}},"resources":[{"address":"azurerm_container_registry.cr","mode":"managed","type":"azurerm_container_registry","name":"cr","provider_config_key":"azurerm","expressions":{"admin_enabled":{"references":["var.admin_enabled"]},"location":{"references":["var.location"]},"name":{"references":["var.container_name"]},"resource_group_name":{"references":["var.resource_group_name"]},"sku":{"references":["var.sku"]}},"schema_version":2}],"variables":{"admin_enabled":{"default":true,"description":"The SKU name of the Azure Container Registry."},"container_name":{"default":null,"description":"The name of the Azure Container Registry."},"location":{"default":"eastus","description":"The location of the resource group in which to create the Azure Container Registry."},"resource_group_name":{"default":null,"description":"The name of the resource group in which to create the Azure Container Registry."},"sku":{"default":"Basic","description":"The SKU name of the Azure Container Registry."}}}},"identity":{"source":"./modules/identity","expressions":{"location":{"references":["module.resource_group.location","module.resource_group"]},"name":{"references":["var.prefix_name"]},"resource_group_name":{"references":["module.resource_group.name","module.resource_group"]}},"module":{"outputs":{"client_id":{"expression":{"references":["azurerm_user_assigned_identity.identity.client_id","azurerm_user_assigned_identity.identity"]}},"id":{"expression":{"references":["azurerm_user_assigned_identity.identity.id","azurerm_user_assigned_identity.identity"]}},"principal_id":{"expression":{"references":["azurerm_user_assigned_identity.identity.principal_id","azurerm_user_assigned_identity.identity"]}}},"resources":[{"address":"azurerm_user_assigned_identity.identity","mode":"managed","type":"azurerm_user_assigned_identity","name":"identity","provider_config_key":"azurerm","expressions":{"location":{"references":["var.location"]},"name":{"references":["var.name"]},"resource_group_name":{"references":["var.resource_group_name"]}},"schema_version":1}],"variables":{"location":{"default":"eastus","description":"The location/region where the identity should be created."},"name":{"default":"nuqbhold","description":"The name of the user-assigned identity."},"resource_group_name":{"default":"zhqghold","description":"The name of the resource group."}}}},"ip_appgw":{"source":"./modules/public_ip","expressions":{"allocation_method":{"constant_value":"Static"},"location":{"references":["var.region"]},"name":{"references":["var.prefix_name"]},"resource_group_name":{"references":["module.resource_group.name","module.resource_group"]},"sku":{"constant_value":"Standard"}},"module":{"outputs":{"id":{"expression":{"references":["azurerm_public_ip.publicIp.id","azurerm_public_ip.publicIp"]},"description":"The id of the resource"}},"resources":[{"address":"azurerm_public_ip.publicIp","mode":"managed","type":"azurerm_public_ip","name":"publicIp","provider_config_key":"azurerm","expressions":{"allocation_method":{"references":["var.allocation_method"]},"location":{"references":["var.location"]},"name":{"references":["var.name"]},"resource_group_name":{"references":["var.resource_group_name"]},"sku":{"references":["var.sku"]}},"schema_version":0}],"variables":{"allocation_method":{"default":"eastus","description":"Azure method to assign an ip"},"location":{"default":"East US","description":"The location of the resource, is the same as the resource group"},"name":{"default":null,"description":"The name of the resource"},"resource_group_name":{"default":null,"description":"Resource group of the IaC"},"sku":{"default":null,"description":"specific version or offering of the resource"}}}},"ip_bastion":{"source":"./modules/public_ip","expressions":{"allocation_method":{"constant_value":"Static"},"location":{"references":["var.region"]},"name":{"references":["var.prefix_name"]},"resource_group_name":{"references":["module.resource_group.name","module.resource_group"]},"sku":{"constant_value":"Standard"}},"module":{"outputs":{"id":{"expression":{"references":["azurerm_public_ip.publicIp.id","azurerm_public_ip.publicIp"]},"description":"The id of the resource"}},"resources":[{"address":"azurerm_public_ip.publicIp","mode":"managed","type":"azurerm_public_ip","name":"publicIp","provider_config_key":"azurerm","expressions":{"allocation_method":{"references":["var.allocation_method"]},"location":{"references":["var.location"]},"name":{"references":["var.name"]},"resource_group_name":{"references":["var.resource_group_name"]},"sku":{"references":["var.sku"]}},"schema_version":0}],"variables":{"allocation_method":{"default":"eastus","description":"Azure method to assign an ip"},"location":{"default":"East US","description":"The location of the resource, is the same as the resource group"},"name":{"default":null,"description":"The name of the resource"},"resource_group_name":{"default":null,"description":"Resource group of the IaC"},"sku":{"default":null,"description":"specific version or offering of the resource"}}}},"key_vault":{"source":"./modules/key_vault","expressions":{"enabled_for_disk_encryption":{"constant_value":true},"key_vault_name":{"references":["var.prefix_name"]},"location":{"references":["module.resource_group.location","module.resource_group"]},"purge_protection_enabled":{"constant_value":false},"resource_group_name":{"references":["module.resource_group.name","module.resource_group"]},"sku_name":{"constant_value":"standard"},"soft_delete_retention_days":{"constant_value":7},"tenant_id":{"references":["data.azurerm_client_config.current.tenant_id","data.azurerm_client_config.current"]}},"module":{"outputs":{"key_vault_id":{"expression":{"references":["azurerm_key_vault.key_vault.id","azurerm_key_vault.key_vault"]}}},"resources":[{"address":"azurerm_key_vault.key_vault","mode":"managed","type":"azurerm_key_vault","name":"key_vault","provider_config_key":"azurerm","expressions":{"enabled_for_disk_encryption":{"references":["var.enabled_for_disk_encryption"]},"location":{"references":["var.location"]},"name":{"references":["var.key_vault_name"]},"purge_protection_enabled":{"references":["var.purge_protection_enabled"]},"resource_group_name":{"references":["var.resource_group_name"]},"sku_name":{"references":["var.sku_name"]},"soft_delete_retention_days":{"references":["var.soft_delete_retention_days"]},"tenant_id":{"references":["var.tenant_id"]}},"schema_version":2}],"variables":{"enabled_for_disk_encryption":{"default":null,"description":"Notify before expiry"},"key_vault_name":{"default":null,"description":"Name of the Azure Key Vault"},"location":{"default":"eastus","description":"Location for the Azure Key Vault"},"purge_protection_enabled":{"default":null,"description":"Notify before expiry"},"resource_group_name":{"default":null,"description":"Name of the Azure Resource Group"},"sku_name":{"default":null,"description":"SKU name for the Azure Key Vault"},"soft_delete_retention_days":{"default":null,"description":"Soft delete retention period in days"},"tenant_id":{"default":null,"description":"Tenant ID"}}}},"key_vault_secret_webserver-config":{"source":"./modules/key_vault_secret","expressions":{"key_vault_id":{"references":["module.key_vault.key_vault_id","module.key_vault"]},"name":{"references":["var.prefix_name"]},"value":{"constant_value":"config-value"}},"module":{"resources":[{"address":"azurerm_key_vault_secret.key_vault_secret","mode":"managed","type":"azurerm_key_vault_secret","name":"key_vault_secret","provider_config_key":"azurerm","expressions":{"key_vault_id":{"references":["var.key_vault_id"]},"name":{"references":["var.name"]},"value":{"references":["var.value"]}},"schema_version":0}],"variables":{"key_vault_id":{"default":null,"description":"The ID of the Key Vault where the policy should be created"},"name":{"default":null},"value":{"default":null}}}},"key_vault_secret_webserver_properties":{"source":"./modules/key_vault_secret","expressions":{"key_vault_id":{"references":["module.key_vault.key_vault_id","module.key_vault"]},"name":{"references":["var.prefix_name"]},"value":{"constant_value":"properties-value"}},"module":{"resources":[{"address":"azurerm_key_vault_secret.key_vault_secret","mode":"managed","type":"azurerm_key_vault_secret","name":"key_vault_secret","provider_config_key":"azurerm","expressions":{"key_vault_id":{"references":["var.key_vault_id"]},"name":{"references":["var.name"]},"value":{"references":["var.value"]}},"schema_version":0}],"variables":{"key_vault_id":{"default":null,"description":"The ID of the Key Vault where the policy should be created"},"name":{"default":null},"value":{"default":null}}}},"peeringAppgwToCluster":{"source":"./modules/network_peering","expressions":{"allow_virtual_network_access":{"constant_value":true},"name":{"references":["var.prefix_name"]},"remote_virtual_network_id":{"references":["module.virtual_network_aks.id","module.virtual_network_aks"]},"resource_group_name":{"references":["module.resource_group.name","module.resource_group"]},"virtual_network_name":{"references":["module.virtual_network_appigw.name","module.virtual_network_appigw"]}},"module":{"resources":[{"address":"azurerm_virtual_network_peering.ClustertoAppGWVnetPeering","mode":"managed","type":"azurerm_virtual_network_peering","name":"ClustertoAppGWVnetPeering","provider_config_key":"azurerm","expressions":{"allow_virtual_network_access":{"constant_value":true},"name":{"references":["var.name"]},"remote_virtual_network_id":{"references":["var.remote_virtual_network_id"]},"resource_group_name":{"references":["var.resource_group_name"]},"virtual_network_name":{"references":["var.virtual_network_name"]}},"schema_version":0}],"variables":{"allow_virtual_network_access":{"default":true,"description":"Soft delete retention period in days"},"name":{"default":null,"description":"Name of the Azure Key Vault"},"remote_virtual_network_id":{"default":null,"description":"Tenant ID"},"resource_group_name":{"default":null,"description":"Name of the Azure Resource Group"},"virtual_network_name":{"default":null,"description":"Location for the Azure Key Vault"}}}},"peeringClusterToAppgw":{"source":"./modules/network_peering","expressions":{"allow_virtual_network_access":{"constant_value":true},"name":{"references":["var.prefix_name"]},"remote_virtual_network_id":{"references":["module.virtual_network_appigw.id","module.virtual_network_appigw"]},"resource_group_name":{"references":["module.resource_group.name","module.resource_group"]},"virtual_network_name":{"references":["module.virtual_network_aks.name","module.virtual_network_aks"]}},"module":{"resources":[{"address":"azurerm_virtual_network_peering.ClustertoAppGWVnetPeering","mode":"managed","type":"azurerm_virtual_network_peering","name":"ClustertoAppGWVnetPeering","provider_config_key":"azurerm","expressions":{"allow_virtual_network_access":{"constant_value":true},"name":{"references":["var.name"]},"remote_virtual_network_id":{"references":["var.remote_virtual_network_id"]},"resource_group_name":{"references":["var.resource_group_name"]},"virtual_network_name":{"references":["var.virtual_network_name"]}},"schema_version":0}],"variables":{"allow_virtual_network_access":{"default":true,"description":"Soft delete retention period in days"},"name":{"default":null,"description":"Name of the Azure Key Vault"},"remote_virtual_network_id":{"default":null,"description":"Tenant ID"},"resource_group_name":{"default":null,"description":"Name of the Azure Resource Group"},"virtual_network_name":{"default":null,"description":"Location for the Azure Key Vault"}}}},"resource_group":{"source":"./modules/resource_group","expressions":{"location":{"references":["var.region"]},"name":{"references":["var.prefix_name"]}},"module":{"outputs":{"location":{"expression":{"references":["azurerm_resource_group.rg.location","azurerm_resource_group.rg"]},"description":"The name of the resource"},"name":{"expression":{"references":["azurerm_resource_group.rg.name","azurerm_resource_group.rg"]},"description":"The name of the resource"}},"resources":[{"address":"azurerm_resource_group.rg","mode":"managed","type":"azurerm_resource_group","name":"rg","provider_config_key":"azurerm","expressions":{"location":{"references":["var.location"]},"name":{"references":["var.name"]}},"schema_version":0}],"variables":{"location":{"default":"East US","description":"The location of the resource group"},"name":{"default":null,"description":"The name of the resource group in which to create the IaC"}}}},"role_aks_cluster":{"source":"./modules/role_assignment","expressions":{"principal_id":{"references":["module.aks_cluster.principal_id","module.aks_cluster"]},"role_definition_name":{"constant_value":"AcrPull"},"scope":{"references":["module.container_registry.scope","module.container_registry"]},"skip_service_principal_aad_check":{"constant_value":true}},"module":{"resources":[{"address":"azurerm_role_assignment.role","mode":"managed","type":"azurerm_role_assignment","name":"role","provider_config_key":"azurerm","expressions":{"principal_id":{"references":["var.principal_id"]},"role_definition_name":{"references":["var.role_definition_name"]},"scope":{"references":["var.scope"]},"skip_service_principal_aad_check":{"references":["var.skip_service_principal_aad_check"]}},"schema_version":0}],"variables":{"principal_id":{"default":"10.0.0.0/16"},"role_definition_name":{"default":null},"scope":{"default":null},"skip_service_principal_aad_check":{"default":"10.0.0.0/16"}}}},"role_key_vault_access":{"source":"./modules/role_assignment","expressions":{"principal_id":{"references":["module.identity.principal_id","module.identity"]},"role_definition_name":{"constant_value":"Reader"},"scope":{"references":["module.key_vault.key_vault_id","module.key_vault"]},"skip_service_principal_aad_check":{"constant_value":false}},"module":{"resources":[{"address":"azurerm_role_assignment.role","mode":"managed","type":"azurerm_role_assignment","name":"role","provider_config_key":"azurerm","expressions":{"principal_id":{"references":["var.principal_id"]},"role_definition_name":{"references":["var.role_definition_name"]},"scope":{"references":["var.scope"]},"skip_service_principal_aad_check":{"references":["var.skip_service_principal_aad_check"]}},"schema_version":0}],"variables":{"principal_id":{"default":"10.0.0.0/16"},"role_definition_name":{"default":null},"scope":{"default":null},"skip_service_principal_aad_check":{"default":"10.0.0.0/16"}}}},"virtual_network_aks":{"source":"./modules/virtual_network","expressions":{"address_space":{"constant_value":["10.1.0.0/16"]},"location":{"references":["var.region"]},"name":{"references":["var.prefix_name"]},"resource_group_name":{"references":["module.resource_group.name","module.resource_group"]}},"module":{"outputs":{"id":{"expression":{"references":["azurerm_virtual_network.vn.id","azurerm_virtual_network.vn"]},"description":"The name of the resource"},"name":{"expression":{"references":["azurerm_virtual_network.vn.name","azurerm_virtual_network.vn"]},"description":"The name of the resource"}},"resources":[{"address":"azurerm_virtual_network.vn","mode":"managed","type":"azurerm_virtual_network","name":"vn","provider_config_key":"azurerm","expressions":{"address_space":{"references":["var.address_space"]},"location":{"references":["var.location"]},"name":{"references":["var.name"]},"resource_group_name":{"references":["var.resource_group_name"]}},"schema_version":0}],"variables":{"address_space":{"default":"10.0.0.0/16","description":"Range of ip for the virtual network"},"location":{"default":"East US","description":"The location of the resource, is the same as the resource group"},"name":{"default":null,"description":"The name of the resource"},"resource_group_name":{"default":null,"description":"Resource group of the IaC"}}}},"virtual_network_appigw":{"source":"./modules/virtual_network","expressions":{"address_space":{"constant_value":["10.0.0.0/16"]},"location":{"references":["var.region"]},"name":{"references":["var.prefix_name"]},"resource_group_name":{"references":["module.resource_group.name","module.resource_group"]}},"module":{"outputs":{"id":{"expression":{"references":["azurerm_virtual_network.vn.id","azurerm_virtual_network.vn"]},"description":"The name of the resource"},"name":{"expression":{"references":["azurerm_virtual_network.vn.name","azurerm_virtual_network.vn"]},"description":"The name of the resource"}},"resources":[{"address":"azurerm_virtual_network.vn","mode":"managed","type":"azurerm_virtual_network","name":"vn","provider_config_key":"azurerm","expressions":{"address_space":{"references":["var.address_space"]},"location":{"references":["var.location"]},"name":{"references":["var.name"]},"resource_group_name":{"references":["var.resource_group_name"]}},"schema_version":0}],"variables":{"address_space":{"default":"10.0.0.0/16","description":"Range of ip for the virtual network"},"location":{"default":"East US","description":"The location of the resource, is the same as the resource group"},"name":{"default":null,"description":"The name of the resource"},"resource_group_name":{"default":null,"description":"Resource group of the IaC"}}}}},"variables":{"prefix_name":{"default":"zodiac","description":"Prefix for resources names"},"region":{"default":"East US","description":"Deployment Region"}}}},"relevant_attributes":[{"resource":"module.resource_group.azurerm_resource_group.rg","attribute":["location"]},{"resource":"module.ip_appgw.azurerm_public_ip.publicIp","attribute":["id"]},{"resource":"module.appgw_subnet.azurerm_subnet.subnet","attribute":["id"]},{"resource":"module.aks_subnet.azurerm_subnet.subnet","attribute":["name"]},{"resource":"module.virtual_network_appigw.azurerm_virtual_network.vn","attribute":["id"]},{"resource":"module.appgw_subnet.azurerm_subnet.subnet","attribute":["name"]},{"resource":"module.aks_cluster.azurerm_kubernetes_cluster.aks_cluster","attribute":["key_vault_secrets_provider",0,"secret_identity",0,"object_id"]},{"resource":"module.resource_group.azurerm_resource_group.rg","attribute":["name"]},{"resource":"module.AzureBastionSubnet.azurerm_subnet.subnet","attribute":["name"]},{"resource":"data.azurerm_client_config.current","attribute":["tenant_id"]},{"resource":"module.aks_cluster.azurerm_kubernetes_cluster.aks_cluster","attribute":["kube_config_raw"]},{"resource":"module.ip_bastion.azurerm_public_ip.publicIp","attribute":["id"]},{"resource":"module.AzureBastionSubnet.azurerm_subnet.subnet","attribute":["id"]},{"resource":"module.aks_cluster.azurerm_kubernetes_cluster.aks_cluster","attribute":["name"]},{"resource":"module.application_gateway.azurerm_application_gateway.appgw","attribute":["id"]},{"resource":"module.identity.azurerm_user_assigned_identity.identity","attribute":["id"]},{"resource":"module.aks_cluster.azurerm_kubernetes_cluster.aks_cluster","attribute":["kubelet_identity",0,"object_id"]},{"resource":"module.virtual_network_appigw.azurerm_virtual_network.vn","attribute":["name"]},{"resource":"module.identity.azurerm_user_assigned_identity.identity","attribute":["client_id"]},{"resource":"module.virtual_network_aks.azurerm_virtual_network.vn","attribute":["name"]},{"resource":"module.key_vault.azurerm_key_vault.key_vault","attribute":["id"]},{"resource":"module.identity.azurerm_user_assigned_identity.identity","attribute":["principal_id"]},{"resource":"module.virtual_network_aks.azurerm_virtual_network.vn","attribute":["id"]},{"resource":"module.container_registry.azurerm_container_registry.cr","attribute":["id"]},{"resource":"module.application_gateway.azurerm_application_gateway.appgw","attribute":["name"]},{"resource":"data.azurerm_client_config.current","attribute":["object_id"]},{"resource":"module.aks_subnet.azurerm_subnet.subnet","attribute":["id"]}],"timestamp":"2024-08-17T00:02:56Z","applyable":true,"complete":true,"errored":false}
