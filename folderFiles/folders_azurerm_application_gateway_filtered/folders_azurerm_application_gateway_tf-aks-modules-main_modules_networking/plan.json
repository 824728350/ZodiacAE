{"format_version":"1.2","terraform_version":"1.9.4","variables":{"aks_subnet_cidr":{"value":["10.0.0.0/24"]},"enable_gateway":{"value":false},"gateway_subnet_cidr":{"value":["10.0.0.0/24"]},"prefix":{"value":"test-app"},"region":{"value":"eastus"},"tags":{"value":{"environment_name":"dev","owner_email":"amit.894@gmail.com"}},"vnet_cidr":{"value":["10.0.0.0/16"]}},"planned_values":{"outputs":{"aks_subnet_id":{"sensitive":false}},"root_module":{"resources":[{"address":"azurerm_resource_group.rg","mode":"managed","type":"azurerm_resource_group","name":"rg","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"location":"eastus","managed_by":null,"name":"test-app-network-rg","tags":{"environment_name":"dev","owner_email":"amit.894@gmail.com"},"timeouts":null},"sensitive_values":{"tags":{}}},{"address":"azurerm_subnet.aks","mode":"managed","type":"azurerm_subnet","name":"aks","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"address_prefixes":["10.0.0.0/24"],"default_outbound_access_enabled":true,"delegation":[],"enforce_private_link_endpoint_network_policies":true,"enforce_private_link_service_network_policies":true,"name":"test-app-aks-subnet","resource_group_name":"test-app-network-rg","service_endpoint_policy_ids":null,"service_endpoints":null,"timeouts":null,"virtual_network_name":"test-app-vnet"},"sensitive_values":{"address_prefixes":[false],"delegation":[]}},{"address":"azurerm_virtual_network.aks_vnet","mode":"managed","type":"azurerm_virtual_network","name":"aks_vnet","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"address_space":["10.0.0.0/16"],"bgp_community":null,"ddos_protection_plan":[],"edge_zone":null,"encryption":[],"flow_timeout_in_minutes":null,"location":"eastus","name":"test-app-vnet","resource_group_name":"test-app-network-rg","tags":null,"timeouts":null},"sensitive_values":{"address_space":[false],"ddos_protection_plan":[],"dns_servers":[],"encryption":[],"subnet":[]}}]}},"resource_changes":[{"address":"azurerm_resource_group.rg","mode":"managed","type":"azurerm_resource_group","name":"rg","provider_name":"registry.terraform.io/hashicorp/azurerm","change":{"actions":["create"],"before":null,"after":{"location":"eastus","managed_by":null,"name":"test-app-network-rg","tags":{"environment_name":"dev","owner_email":"amit.894@gmail.com"},"timeouts":null},"after_unknown":{"id":true,"tags":{}},"before_sensitive":false,"after_sensitive":{"tags":{}}}},{"address":"azurerm_subnet.aks","mode":"managed","type":"azurerm_subnet","name":"aks","provider_name":"registry.terraform.io/hashicorp/azurerm","change":{"actions":["create"],"before":null,"after":{"address_prefixes":["10.0.0.0/24"],"default_outbound_access_enabled":true,"delegation":[],"enforce_private_link_endpoint_network_policies":true,"enforce_private_link_service_network_policies":true,"name":"test-app-aks-subnet","resource_group_name":"test-app-network-rg","service_endpoint_policy_ids":null,"service_endpoints":null,"timeouts":null,"virtual_network_name":"test-app-vnet"},"after_unknown":{"address_prefixes":[false],"delegation":[],"id":true,"private_endpoint_network_policies":true,"private_endpoint_network_policies_enabled":true,"private_link_service_network_policies_enabled":true},"before_sensitive":false,"after_sensitive":{"address_prefixes":[false],"delegation":[]}}},{"address":"azurerm_virtual_network.aks_vnet","mode":"managed","type":"azurerm_virtual_network","name":"aks_vnet","provider_name":"registry.terraform.io/hashicorp/azurerm","change":{"actions":["create"],"before":null,"after":{"address_space":["10.0.0.0/16"],"bgp_community":null,"ddos_protection_plan":[],"edge_zone":null,"encryption":[],"flow_timeout_in_minutes":null,"location":"eastus","name":"test-app-vnet","resource_group_name":"test-app-network-rg","tags":null,"timeouts":null},"after_unknown":{"address_space":[false],"ddos_protection_plan":[],"dns_servers":true,"encryption":[],"guid":true,"id":true,"subnet":true},"before_sensitive":false,"after_sensitive":{"address_space":[false],"ddos_protection_plan":[],"dns_servers":[],"encryption":[],"subnet":[]}}}],"output_changes":{"aks_subnet_id":{"actions":["create"],"before":null,"after_unknown":true,"before_sensitive":false,"after_sensitive":false}},"configuration":{"provider_config":{"azurerm":{"name":"azurerm","full_name":"registry.terraform.io/hashicorp/azurerm","expressions":{"features":[{}]}}},"root_module":{"outputs":{"aks_subnet_id":{"expression":{"references":["azurerm_subnet.aks.id","azurerm_subnet.aks"]}}},"resources":[{"address":"azurerm_application_gateway.network","mode":"managed","type":"azurerm_application_gateway","name":"network","provider_config_key":"azurerm","expressions":{"backend_address_pool":[{"name":{"references":["var.prefix"]}}],"backend_http_settings":[{"cookie_based_affinity":{"constant_value":"Disabled"},"name":{"references":["var.prefix"]},"port":{"constant_value":80},"protocol":{"constant_value":"Http"},"request_timeout":{"constant_value":1}}],"frontend_ip_configuration":[{"name":{"references":["var.prefix"]},"public_ip_address_id":{"references":["azurerm_public_ip.gw_ip[0].id","azurerm_public_ip.gw_ip[0]","azurerm_public_ip.gw_ip"]}}],"frontend_port":[{"name":{"constant_value":"httpsPort"},"port":{"constant_value":443}},{"name":{"references":["var.prefix"]},"port":{"constant_value":80}}],"gateway_ip_configuration":[{"name":{"constant_value":"appGatewayIpConfig"},"subnet_id":{"references":["azurerm_subnet.gateway[0].id","azurerm_subnet.gateway[0]","azurerm_subnet.gateway"]}}],"http_listener":[{"frontend_ip_configuration_name":{"references":["var.prefix"]},"frontend_port_name":{"references":["var.prefix"]},"name":{"references":["var.prefix"]},"protocol":{"constant_value":"Http"}}],"location":{"references":["azurerm_resource_group.rg.location","azurerm_resource_group.rg"]},"name":{"references":["var.prefix"]},"request_routing_rule":[{"backend_address_pool_name":{"references":["var.prefix"]},"backend_http_settings_name":{"references":["var.prefix"]},"http_listener_name":{"references":["var.prefix"]},"name":{"references":["var.prefix"]},"rule_type":{"constant_value":"Basic"}}],"resource_group_name":{"references":["azurerm_resource_group.rg.name","azurerm_resource_group.rg"]},"sku":[{"capacity":{"constant_value":2},"name":{"constant_value":"Standard_v2"},"tier":{"constant_value":"Standard_v2"}}],"tags":{"references":["var.tags"]}},"schema_version":0,"count_expression":{"references":["var.enable_gateway"]},"depends_on":["azurerm_virtual_network.aks_vnet","azurerm_public_ip.gw_ip","azurerm_subnet.gateway"]},{"address":"azurerm_public_ip.gw_ip","mode":"managed","type":"azurerm_public_ip","name":"gw_ip","provider_config_key":"azurerm","expressions":{"allocation_method":{"constant_value":"Static"},"location":{"references":["azurerm_resource_group.rg.location","azurerm_resource_group.rg"]},"name":{"references":["var.prefix"]},"resource_group_name":{"references":["azurerm_resource_group.rg.name","azurerm_resource_group.rg"]},"sku":{"constant_value":"Standard"}},"schema_version":0,"count_expression":{"references":["var.enable_gateway"]}},{"address":"azurerm_resource_group.rg","mode":"managed","type":"azurerm_resource_group","name":"rg","provider_config_key":"azurerm","expressions":{"location":{"references":["var.region"]},"name":{"references":["var.prefix"]},"tags":{"references":["var.tags"]}},"schema_version":0},{"address":"azurerm_subnet.aks","mode":"managed","type":"azurerm_subnet","name":"aks","provider_config_key":"azurerm","expressions":{"address_prefixes":{"references":["var.aks_subnet_cidr"]},"enforce_private_link_endpoint_network_policies":{"constant_value":true},"enforce_private_link_service_network_policies":{"constant_value":true},"name":{"references":["var.prefix"]},"resource_group_name":{"references":["azurerm_resource_group.rg.name","azurerm_resource_group.rg"]},"virtual_network_name":{"references":["azurerm_virtual_network.aks_vnet.name","azurerm_virtual_network.aks_vnet"]}},"schema_version":0},{"address":"azurerm_subnet.gateway","mode":"managed","type":"azurerm_subnet","name":"gateway","provider_config_key":"azurerm","expressions":{"address_prefixes":{"references":["var.gateway_subnet_cidr"]},"enforce_private_link_endpoint_network_policies":{"constant_value":true},"enforce_private_link_service_network_policies":{"constant_value":true},"name":{"references":["var.prefix"]},"resource_group_name":{"references":["azurerm_resource_group.rg.name","azurerm_resource_group.rg"]},"virtual_network_name":{"references":["azurerm_virtual_network.aks_vnet.name","azurerm_virtual_network.aks_vnet"]}},"schema_version":0,"count_expression":{"references":["var.enable_gateway"]}},{"address":"azurerm_virtual_network.aks_vnet","mode":"managed","type":"azurerm_virtual_network","name":"aks_vnet","provider_config_key":"azurerm","expressions":{"address_space":{"references":["var.vnet_cidr"]},"location":{"references":["azurerm_resource_group.rg.location","azurerm_resource_group.rg"]},"name":{"references":["var.prefix"]},"resource_group_name":{"references":["azurerm_resource_group.rg.name","azurerm_resource_group.rg"]}},"schema_version":0}],"variables":{"aks_subnet_cidr":{"default":["10.0.0.0/24"],"description":"CIDR of the aks subnet for hosting"},"enable_gateway":{"default":false,"description":"Flag to add the gateway subnet"},"gateway_subnet_cidr":{"default":["10.0.0.0/24"],"description":"CIDR of the gateway subnet for hosting"},"prefix":{"default":"test-app","description":"Prefix to be used for resources to will be created"},"region":{"default":"eastus","description":"Region name where rg will be hosted"},"tags":{"default":{"environment_name":"dev","owner_email":"amit.894@gmail.com"},"description":"Tags for the resource"},"vnet_cidr":{"default":["10.0.0.0/16"],"description":"CIDR of the VNET for hosting"}}}},"relevant_attributes":[{"resource":"azurerm_resource_group.rg","attribute":["location"]},{"resource":"azurerm_resource_group.rg","attribute":["name"]},{"resource":"azurerm_virtual_network.aks_vnet","attribute":["name"]},{"resource":"azurerm_subnet.aks","attribute":["id"]}],"timestamp":"2024-08-16T23:54:29Z","applyable":true,"complete":true,"errored":false}
