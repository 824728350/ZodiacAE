{"format_version":"1.2","terraform_version":"1.9.4","variables":{"frontend_port":{"value":8080},"location":{"value":"eastus"},"resource_group_name":{"value":"hxzmhold"},"resource_prefix":{"value":"zodiac"},"tags":{"value":{}},"vnet_ingress_address_space":{"value":"10.254.0.0/16"},"vnet_ingress_backend_subnet":{"value":"10.254.2.0/24"},"vnet_ingress_frontend_subnet":{"value":"10.254.0.0/24"}},"planned_values":{"outputs":{"BACKEND_SUBNET_ID":{"sensitive":false},"GATEWAY_FRONTEND_PORT":{"sensitive":false,"type":"number","value":8080},"GATEWAY_ID":{"sensitive":false},"GATEWAY_NAME":{"sensitive":false,"type":"string","value":"zodiac-appgw"},"GATEWAY_PUBLIC_IP":{"sensitive":false}},"root_module":{"resources":[{"address":"azurerm_application_gateway.gw","mode":"managed","type":"azurerm_application_gateway","name":"gw","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"authentication_certificate":[],"autoscale_configuration":[],"backend_address_pool":[{"fqdns":[],"ip_addresses":[],"name":"beap"}],"backend_http_settings":[{"affinity_cookie_name":"","authentication_certificate":[],"connection_draining":[],"cookie_based_affinity":"Disabled","host_name":"","name":"be-htst","path":"","pick_host_name_from_backend_address":false,"port":80,"probe_name":"","protocol":"Http","request_timeout":30,"trusted_root_certificate_names":[]}],"custom_error_configuration":[],"enable_http2":null,"fips_enabled":null,"firewall_policy_id":null,"force_firewall_policy_association":null,"frontend_ip_configuration":[{"name":"feip","private_ip_address_allocation":"Dynamic","private_link_configuration_name":null,"subnet_id":null}],"frontend_port":[{"name":"feport","port":8080}],"gateway_ip_configuration":[{"name":"gw-ip-config"}],"global":[],"http_listener":[{"custom_error_configuration":[],"firewall_policy_id":"","frontend_ip_configuration_name":"feip","frontend_port_name":"feport","host_name":"","host_names":[],"name":"httplstn","protocol":"Http","require_sni":null,"ssl_certificate_name":"","ssl_profile_name":""}],"identity":[],"location":"eastus","name":"zodiac-appgw","private_link_configuration":[],"probe":[],"redirect_configuration":[],"request_routing_rule":[{"backend_address_pool_name":"beap","backend_http_settings_name":"be-htst","http_listener_name":"httplstn","name":"rqrt","priority":1,"redirect_configuration_name":"","rewrite_rule_set_name":"","rule_type":"Basic","url_path_map_name":""}],"resource_group_name":"hxzmhold","rewrite_rule_set":[],"sku":[{"capacity":1,"name":"Standard_v2","tier":"Standard_v2"}],"ssl_certificate":[],"ssl_profile":[],"tags":null,"timeouts":null,"trusted_client_certificate":[],"trusted_root_certificate":[],"url_path_map":[],"waf_configuration":[],"zones":null},"sensitive_values":{"authentication_certificate":[],"autoscale_configuration":[],"backend_address_pool":[{"fqdns":[],"ip_addresses":[]}],"backend_http_settings":[{"authentication_certificate":[],"connection_draining":[],"trusted_root_certificate_names":[]}],"custom_error_configuration":[],"frontend_ip_configuration":[{}],"frontend_port":[{}],"gateway_ip_configuration":[{}],"global":[],"http_listener":[{"custom_error_configuration":[],"host_names":[]}],"identity":[],"private_endpoint_connection":[],"private_link_configuration":[],"probe":[],"redirect_configuration":[],"request_routing_rule":[{}],"rewrite_rule_set":[],"sku":[{}],"ssl_certificate":[],"ssl_policy":[],"ssl_profile":[],"trusted_client_certificate":[],"trusted_root_certificate":[],"url_path_map":[],"waf_configuration":[]}},{"address":"azurerm_public_ip.ingress","mode":"managed","type":"azurerm_public_ip","name":"ingress","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"allocation_method":"Static","ddos_protection_mode":"VirtualNetworkInherited","ddos_protection_plan_id":null,"domain_name_label":null,"edge_zone":null,"idle_timeout_in_minutes":4,"ip_tags":null,"ip_version":"IPv4","location":"eastus","name":"zodiac-pip","public_ip_prefix_id":null,"resource_group_name":"hxzmhold","reverse_fqdn":null,"sku":"Standard","sku_tier":"Regional","tags":null,"timeouts":null,"zones":null},"sensitive_values":{}},{"address":"azurerm_subnet.backend","mode":"managed","type":"azurerm_subnet","name":"backend","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"address_prefixes":["10.254.2.0/24"],"default_outbound_access_enabled":true,"delegation":[],"name":"backend","resource_group_name":"hxzmhold","service_endpoint_policy_ids":null,"service_endpoints":null,"timeouts":null,"virtual_network_name":"zodiac-net"},"sensitive_values":{"address_prefixes":[false],"delegation":[]}},{"address":"azurerm_subnet.frontend","mode":"managed","type":"azurerm_subnet","name":"frontend","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"address_prefixes":["10.254.0.0/24"],"default_outbound_access_enabled":true,"delegation":[],"name":"frontend","resource_group_name":"hxzmhold","service_endpoint_policy_ids":null,"service_endpoints":null,"timeouts":null,"virtual_network_name":"zodiac-net"},"sensitive_values":{"address_prefixes":[false],"delegation":[]}},{"address":"azurerm_virtual_network.vnet","mode":"managed","type":"azurerm_virtual_network","name":"vnet","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"address_space":["10.254.0.0/16"],"bgp_community":null,"ddos_protection_plan":[],"edge_zone":null,"encryption":[],"flow_timeout_in_minutes":null,"location":"eastus","name":"zodiac-net","resource_group_name":"hxzmhold","tags":null,"timeouts":null},"sensitive_values":{"address_space":[false],"ddos_protection_plan":[],"dns_servers":[],"encryption":[],"subnet":[]}}]}},"resource_changes":[{"address":"azurerm_application_gateway.gw","mode":"managed","type":"azurerm_application_gateway","name":"gw","provider_name":"registry.terraform.io/hashicorp/azurerm","change":{"actions":["create"],"before":null,"after":{"authentication_certificate":[],"autoscale_configuration":[],"backend_address_pool":[{"fqdns":[],"ip_addresses":[],"name":"beap"}],"backend_http_settings":[{"affinity_cookie_name":"","authentication_certificate":[],"connection_draining":[],"cookie_based_affinity":"Disabled","host_name":"","name":"be-htst","path":"","pick_host_name_from_backend_address":false,"port":80,"probe_name":"","protocol":"Http","request_timeout":30,"trusted_root_certificate_names":[]}],"custom_error_configuration":[],"enable_http2":null,"fips_enabled":null,"firewall_policy_id":null,"force_firewall_policy_association":null,"frontend_ip_configuration":[{"name":"feip","private_ip_address_allocation":"Dynamic","private_link_configuration_name":null,"subnet_id":null}],"frontend_port":[{"name":"feport","port":8080}],"gateway_ip_configuration":[{"name":"gw-ip-config"}],"global":[],"http_listener":[{"custom_error_configuration":[],"firewall_policy_id":"","frontend_ip_configuration_name":"feip","frontend_port_name":"feport","host_name":"","host_names":[],"name":"httplstn","protocol":"Http","require_sni":null,"ssl_certificate_name":"","ssl_profile_name":""}],"identity":[],"location":"eastus","name":"zodiac-appgw","private_link_configuration":[],"probe":[],"redirect_configuration":[],"request_routing_rule":[{"backend_address_pool_name":"beap","backend_http_settings_name":"be-htst","http_listener_name":"httplstn","name":"rqrt","priority":1,"redirect_configuration_name":"","rewrite_rule_set_name":"","rule_type":"Basic","url_path_map_name":""}],"resource_group_name":"hxzmhold","rewrite_rule_set":[],"sku":[{"capacity":1,"name":"Standard_v2","tier":"Standard_v2"}],"ssl_certificate":[],"ssl_profile":[],"tags":null,"timeouts":null,"trusted_client_certificate":[],"trusted_root_certificate":[],"url_path_map":[],"waf_configuration":[],"zones":null},"after_unknown":{"authentication_certificate":[],"autoscale_configuration":[],"backend_address_pool":[{"fqdns":[],"id":true,"ip_addresses":[]}],"backend_http_settings":[{"authentication_certificate":[],"connection_draining":[],"id":true,"probe_id":true,"trusted_root_certificate_names":[]}],"custom_error_configuration":[],"frontend_ip_configuration":[{"id":true,"private_ip_address":true,"private_link_configuration_id":true,"public_ip_address_id":true}],"frontend_port":[{"id":true}],"gateway_ip_configuration":[{"id":true,"subnet_id":true}],"global":[],"http_listener":[{"custom_error_configuration":[],"frontend_ip_configuration_id":true,"frontend_port_id":true,"host_names":[],"id":true,"ssl_certificate_id":true,"ssl_profile_id":true}],"id":true,"identity":[],"private_endpoint_connection":true,"private_link_configuration":[],"probe":[],"redirect_configuration":[],"request_routing_rule":[{"backend_address_pool_id":true,"backend_http_settings_id":true,"http_listener_id":true,"id":true,"redirect_configuration_id":true,"rewrite_rule_set_id":true,"url_path_map_id":true}],"rewrite_rule_set":[],"sku":[{}],"ssl_certificate":[],"ssl_policy":true,"ssl_profile":[],"trusted_client_certificate":[],"trusted_root_certificate":[],"url_path_map":[],"waf_configuration":[]},"before_sensitive":false,"after_sensitive":{"authentication_certificate":[],"autoscale_configuration":[],"backend_address_pool":[{"fqdns":[],"ip_addresses":[]}],"backend_http_settings":[{"authentication_certificate":[],"connection_draining":[],"trusted_root_certificate_names":[]}],"custom_error_configuration":[],"frontend_ip_configuration":[{}],"frontend_port":[{}],"gateway_ip_configuration":[{}],"global":[],"http_listener":[{"custom_error_configuration":[],"host_names":[]}],"identity":[],"private_endpoint_connection":[],"private_link_configuration":[],"probe":[],"redirect_configuration":[],"request_routing_rule":[{}],"rewrite_rule_set":[],"sku":[{}],"ssl_certificate":[],"ssl_policy":[],"ssl_profile":[],"trusted_client_certificate":[],"trusted_root_certificate":[],"url_path_map":[],"waf_configuration":[]}}},{"address":"azurerm_public_ip.ingress","mode":"managed","type":"azurerm_public_ip","name":"ingress","provider_name":"registry.terraform.io/hashicorp/azurerm","change":{"actions":["create"],"before":null,"after":{"allocation_method":"Static","ddos_protection_mode":"VirtualNetworkInherited","ddos_protection_plan_id":null,"domain_name_label":null,"edge_zone":null,"idle_timeout_in_minutes":4,"ip_tags":null,"ip_version":"IPv4","location":"eastus","name":"zodiac-pip","public_ip_prefix_id":null,"resource_group_name":"hxzmhold","reverse_fqdn":null,"sku":"Standard","sku_tier":"Regional","tags":null,"timeouts":null,"zones":null},"after_unknown":{"fqdn":true,"id":true,"ip_address":true},"before_sensitive":false,"after_sensitive":{}}},{"address":"azurerm_subnet.backend","mode":"managed","type":"azurerm_subnet","name":"backend","provider_name":"registry.terraform.io/hashicorp/azurerm","change":{"actions":["create"],"before":null,"after":{"address_prefixes":["10.254.2.0/24"],"default_outbound_access_enabled":true,"delegation":[],"name":"backend","resource_group_name":"hxzmhold","service_endpoint_policy_ids":null,"service_endpoints":null,"timeouts":null,"virtual_network_name":"zodiac-net"},"after_unknown":{"address_prefixes":[false],"delegation":[],"enforce_private_link_endpoint_network_policies":true,"enforce_private_link_service_network_policies":true,"id":true,"private_endpoint_network_policies":true,"private_endpoint_network_policies_enabled":true,"private_link_service_network_policies_enabled":true},"before_sensitive":false,"after_sensitive":{"address_prefixes":[false],"delegation":[]}}},{"address":"azurerm_subnet.frontend","mode":"managed","type":"azurerm_subnet","name":"frontend","provider_name":"registry.terraform.io/hashicorp/azurerm","change":{"actions":["create"],"before":null,"after":{"address_prefixes":["10.254.0.0/24"],"default_outbound_access_enabled":true,"delegation":[],"name":"frontend","resource_group_name":"hxzmhold","service_endpoint_policy_ids":null,"service_endpoints":null,"timeouts":null,"virtual_network_name":"zodiac-net"},"after_unknown":{"address_prefixes":[false],"delegation":[],"enforce_private_link_endpoint_network_policies":true,"enforce_private_link_service_network_policies":true,"id":true,"private_endpoint_network_policies":true,"private_endpoint_network_policies_enabled":true,"private_link_service_network_policies_enabled":true},"before_sensitive":false,"after_sensitive":{"address_prefixes":[false],"delegation":[]}}},{"address":"azurerm_virtual_network.vnet","mode":"managed","type":"azurerm_virtual_network","name":"vnet","provider_name":"registry.terraform.io/hashicorp/azurerm","change":{"actions":["create"],"before":null,"after":{"address_space":["10.254.0.0/16"],"bgp_community":null,"ddos_protection_plan":[],"edge_zone":null,"encryption":[],"flow_timeout_in_minutes":null,"location":"eastus","name":"zodiac-net","resource_group_name":"hxzmhold","tags":null,"timeouts":null},"after_unknown":{"address_space":[false],"ddos_protection_plan":[],"dns_servers":true,"encryption":[],"guid":true,"id":true,"subnet":true},"before_sensitive":false,"after_sensitive":{"address_space":[false],"ddos_protection_plan":[],"dns_servers":[],"encryption":[],"subnet":[]}}}],"output_changes":{"BACKEND_SUBNET_ID":{"actions":["create"],"before":null,"after_unknown":true,"before_sensitive":false,"after_sensitive":false},"GATEWAY_FRONTEND_PORT":{"actions":["create"],"before":null,"after":8080,"after_unknown":false,"before_sensitive":false,"after_sensitive":false},"GATEWAY_ID":{"actions":["create"],"before":null,"after_unknown":true,"before_sensitive":false,"after_sensitive":false},"GATEWAY_NAME":{"actions":["create"],"before":null,"after":"zodiac-appgw","after_unknown":false,"before_sensitive":false,"after_sensitive":false},"GATEWAY_PUBLIC_IP":{"actions":["create"],"before":null,"after_unknown":true,"before_sensitive":false,"after_sensitive":false}},"prior_state":{"format_version":"1.0","terraform_version":"1.9.4","values":{"outputs":{"GATEWAY_FRONTEND_PORT":{"sensitive":false,"value":8080,"type":"number"},"GATEWAY_NAME":{"sensitive":false,"value":"zodiac-appgw","type":"string"}},"root_module":{}}},"configuration":{"provider_config":{"aws":{"name":"aws","full_name":"registry.terraform.io/hashicorp/aws","expressions":{"access_key":{"constant_value":"mock_access_key"},"region":{"constant_value":"us-east-1"},"secret_key":{"constant_value":"mock_secret_key"},"skip_credentials_validation":{"constant_value":true},"skip_metadata_api_check":{"constant_value":true},"skip_requesting_account_id":{"constant_value":true}}},"azurerm":{"name":"azurerm","full_name":"registry.terraform.io/hashicorp/azurerm","expressions":{"features":[{}]}},"google":{"name":"google","full_name":"registry.terraform.io/hashicorp/google","expressions":{"project":{"constant_value":"ZODIAC"},"region":{"constant_value":"us-central1"}}}},"root_module":{"outputs":{"BACKEND_SUBNET_ID":{"expression":{"references":["azurerm_subnet.backend.id","azurerm_subnet.backend"]}},"GATEWAY_FRONTEND_PORT":{"expression":{"references":["azurerm_application_gateway.gw.frontend_port","azurerm_application_gateway.gw","local.frontend_port_name"]}},"GATEWAY_ID":{"expression":{"references":["azurerm_application_gateway.gw.id","azurerm_application_gateway.gw"]}},"GATEWAY_NAME":{"expression":{"references":["azurerm_application_gateway.gw.name","azurerm_application_gateway.gw"]}},"GATEWAY_PUBLIC_IP":{"expression":{"references":["azurerm_public_ip.ingress.ip_address","azurerm_public_ip.ingress"]}}},"resources":[{"address":"azurerm_application_gateway.gw","mode":"managed","type":"azurerm_application_gateway","name":"gw","provider_config_key":"azurerm","expressions":{"backend_address_pool":[{"name":{"references":["local.backend_address_pool_name"]}}],"backend_http_settings":[{"cookie_based_affinity":{"constant_value":"Disabled"},"name":{"references":["local.http_setting_name"]},"port":{"constant_value":80},"protocol":{"constant_value":"Http"}}],"frontend_ip_configuration":[{"name":{"references":["local.frontend_ip_configuration_name"]},"public_ip_address_id":{"references":["azurerm_public_ip.ingress.id","azurerm_public_ip.ingress"]}}],"frontend_port":[{"name":{"references":["local.frontend_port_name"]},"port":{"references":["var.frontend_port"]}}],"gateway_ip_configuration":[{"name":{"constant_value":"gw-ip-config"},"subnet_id":{"references":["azurerm_subnet.frontend.id","azurerm_subnet.frontend"]}}],"http_listener":[{"frontend_ip_configuration_name":{"references":["local.frontend_ip_configuration_name"]},"frontend_port_name":{"references":["local.frontend_port_name"]},"name":{"references":["local.listener_name"]},"protocol":{"constant_value":"Http"}}],"location":{"references":["var.location"]},"name":{"references":["var.resource_prefix"]},"request_routing_rule":[{"backend_address_pool_name":{"references":["local.backend_address_pool_name"]},"backend_http_settings_name":{"references":["local.http_setting_name"]},"http_listener_name":{"references":["local.listener_name"]},"name":{"references":["local.request_routing_rule_name"]},"priority":{"constant_value":1},"rule_type":{"constant_value":"Basic"}}],"resource_group_name":{"references":["var.resource_group_name"]},"sku":[{"capacity":{"constant_value":1},"name":{"constant_value":"Standard_v2"},"tier":{"constant_value":"Standard_v2"}}],"tags":{"references":["var.tags"]}},"schema_version":0},{"address":"azurerm_public_ip.ingress","mode":"managed","type":"azurerm_public_ip","name":"ingress","provider_config_key":"azurerm","expressions":{"allocation_method":{"constant_value":"Static"},"location":{"references":["var.location"]},"name":{"references":["var.resource_prefix"]},"resource_group_name":{"references":["var.resource_group_name"]},"sku":{"constant_value":"Standard"},"tags":{"references":["var.tags"]}},"schema_version":0},{"address":"azurerm_subnet.backend","mode":"managed","type":"azurerm_subnet","name":"backend","provider_config_key":"azurerm","expressions":{"address_prefixes":{"references":["var.vnet_ingress_backend_subnet"]},"name":{"constant_value":"backend"},"resource_group_name":{"references":["var.resource_group_name"]},"virtual_network_name":{"references":["azurerm_virtual_network.vnet.name","azurerm_virtual_network.vnet"]}},"schema_version":0},{"address":"azurerm_subnet.frontend","mode":"managed","type":"azurerm_subnet","name":"frontend","provider_config_key":"azurerm","expressions":{"address_prefixes":{"references":["var.vnet_ingress_frontend_subnet"]},"name":{"constant_value":"frontend"},"resource_group_name":{"references":["var.resource_group_name"]},"virtual_network_name":{"references":["azurerm_virtual_network.vnet.name","azurerm_virtual_network.vnet"]}},"schema_version":0},{"address":"azurerm_virtual_network.vnet","mode":"managed","type":"azurerm_virtual_network","name":"vnet","provider_config_key":"azurerm","expressions":{"address_space":{"references":["var.vnet_ingress_address_space"]},"location":{"references":["var.location"]},"name":{"references":["var.resource_prefix"]},"resource_group_name":{"references":["var.resource_group_name"]},"tags":{"references":["var.tags"]}},"schema_version":0}],"variables":{"frontend_port":{"default":8080,"description":"Front End port number"},"location":{"default":"eastus","description":"The supported Azure location where the resource deployed"},"resource_group_name":{"default":"hxzmhold","description":"The name of the resource group to deploy resources into"},"resource_prefix":{"default":"zodiac","description":"A suffix string to centrally mitigate resource name collisions."},"tags":{"default":{},"description":"A list of tags used for deployed services."},"vnet_ingress_address_space":{"default":"10.254.0.0/16","description":"Virtual network address space for ingress"},"vnet_ingress_backend_subnet":{"default":"10.254.2.0/24","description":"Subnet address space for ingress backend (AKS nodepool)"},"vnet_ingress_frontend_subnet":{"default":"10.254.0.0/24","description":"Subnet address space for ingress frontend (AppGw)"}}}},"relevant_attributes":[{"resource":"azurerm_public_ip.ingress","attribute":["id"]},{"resource":"azurerm_public_ip.ingress","attribute":["ip_address"]},{"resource":"azurerm_subnet.backend","attribute":["id"]},{"resource":"azurerm_application_gateway.gw","attribute":["name"]},{"resource":"azurerm_application_gateway.gw","attribute":["id"]},{"resource":"azurerm_application_gateway.gw","attribute":["frontend_port"]},{"resource":"azurerm_virtual_network.vnet","attribute":["name"]},{"resource":"azurerm_subnet.frontend","attribute":["id"]}],"timestamp":"2024-08-17T00:04:05Z","applyable":true,"complete":true,"errored":false}
